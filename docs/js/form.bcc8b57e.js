(self["webpackChunkinput_file_capture_demo"]=self["webpackChunkinput_file_capture_demo"]||[]).push([[680,85],{5787:function(t,e,r){var n=r(7976),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw o("Incorrect invocation")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,r){"use strict";var n,o,i,a=r(3013),s=r(9781),c=r(7854),f=r(614),l=r(111),u=r(2597),d=r(648),h=r(6330),A=r(8880),p=r(8052),g=r(7045),v=r(7976),m=r(9518),y=r(7674),w=r(5112),b=r(9711),E=r(9909),_=E.enforce,U=E.get,F=c.Int8Array,R=F&&F.prototype,I=c.Uint8ClampedArray,C=I&&I.prototype,B=F&&m(F),T=R&&m(R),M=Object.prototype,x=c.TypeError,S=w("toStringTag"),Q=b("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",D=a&&!!y&&"Opera"!==d(c.opera),k=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},H=function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||u(P,e)||u(L,e)},N=function(t){var e=m(t);if(l(e)){var r=U(e);return r&&u(r,O)?r[O]:N(e)}},z=function(t){if(!l(t))return!1;var e=d(t);return u(P,e)||u(L,e)},W=function(t){if(z(t))return t;throw x("Target is not a typed array")},j=function(t){if(f(t)&&(!y||v(B,t)))return t;throw x(h(t)+" is not a typed array constructor")},V=function(t,e,r,n){if(s){if(r)for(var o in P){var i=c[o];if(i&&u(i.prototype,t))try{delete i.prototype[t]}catch(a){try{i.prototype[t]=e}catch(f){}}}T[t]&&!r||p(T,t,r?e:D&&R[t]||e,n)}},q=function(t,e,r){var n,o;if(s){if(y){if(r)for(n in P)if(o=c[n],o&&u(o,t))try{delete o[t]}catch(i){}if(B[t]&&!r)return;try{return p(B,t,r?e:D&&B[t]||e)}catch(i){}}for(n in P)o=c[n],!o||o[t]&&!r||p(o,t,e)}};for(n in P)o=c[n],i=o&&o.prototype,i?_(i)[O]=o:D=!1;for(n in L)o=c[n],i=o&&o.prototype,i&&(_(i)[O]=o);if((!D||!f(B)||B===Function.prototype)&&(B=function(){throw x("Incorrect invocation")},D))for(n in P)c[n]&&y(c[n],B);if((!D||!T||T===M)&&(T=B.prototype,D))for(n in P)c[n]&&y(c[n].prototype,T);if(D&&m(C)!==T&&y(C,T),s&&!u(T,S))for(n in k=!0,g(T,S,{configurable:!0,get:function(){return l(this)?this[Q]:void 0}}),P)c[n]&&A(c[n],Q,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:k&&Q,aTypedArray:W,aTypedArrayConstructor:j,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:N,isView:H,isTypedArray:z,TypedArray:B,TypedArrayPrototype:T}},7745:function(t,e,r){var n=r(6244);t.exports=function(t,e){var r=0,o=n(e),i=new t(o);while(o>r)i[r]=e[r++];return i}},9671:function(t,e,r){var n=r(9974),o=r(8361),i=r(7908),a=r(6244),s=function(t){var e=1==t;return function(r,s,c){var f,l,u=i(r),d=o(u),h=n(s,c),A=a(d);while(A-- >0)if(f=d[A],l=h(f,A,u),l)switch(t){case 0:return f;case 1:return A}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},1843:function(t,e,r){var n=r(6244);t.exports=function(t,e){for(var r=n(t),o=new e(r),i=0;i<r;i++)o[i]=t[r-i-1];return o}},1572:function(t,e,r){var n=r(6244),o=r(9303),i=RangeError;t.exports=function(t,e,r,a){var s=n(t),c=o(r),f=c<0?s+c:c;if(f>=s||f<0)throw i("Incorrect index");for(var l=new e(s),u=0;u<s;u++)l[u]=u===f?a:t[u];return l}},8544:function(t,e,r){var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7045:function(t,e,r){var n=r(6339),o=r(3070);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},9974:function(t,e,r){var n=r(1470),o=r(9662),i=r(4374),a=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},1470:function(t,e,r){var n=r(4326),o=r(1702);t.exports=function(t){if("Function"===n(t))return o(t)}},4067:function(t,e,r){var n=r(648);t.exports=function(t){var e=n(t);return"BigInt64Array"==e||"BigUint64Array"==e}},9518:function(t,e,r){var n=r(2597),o=r(614),i=r(7908),a=r(6200),s=r(8544),c=a("IE_PROTO"),f=Object,l=f.prototype;t.exports=s?f.getPrototypeOf:function(t){var e=i(t);if(n(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof f?l:null}},4599:function(t,e,r){var n=r(7593),o=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw o("Can't convert number to bigint");return BigInt(e)}},2452:function(t,e,r){var n=r(3002),o=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw o("Wrong offset");return r}},3002:function(t,e,r){var n=r(9303),o=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw o("The argument can't be less than 0");return e}},8675:function(t,e,r){"use strict";var n=r(260),o=r(6244),i=r(9303),a=n.aTypedArray,s=n.exportTypedArrayMethod;s("at",(function(t){var e=a(this),r=o(e),n=i(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}))},4590:function(t,e,r){"use strict";var n=r(260),o=r(9671).findLastIndex,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLastIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:function(t,e,r){"use strict";var n=r(260),o=r(9671).findLast,i=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLast",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3462:function(t,e,r){"use strict";var n=r(7854),o=r(6916),i=r(260),a=r(6244),s=r(2452),c=r(7908),f=r(7293),l=n.RangeError,u=n.Int8Array,d=u&&u.prototype,h=d&&d.set,A=i.aTypedArray,p=i.exportTypedArrayMethod,g=!f((function(){var t=new Uint8ClampedArray(2);return o(h,t,{length:1,0:3},1),3!==t[1]})),v=g&&i.NATIVE_ARRAY_BUFFER_VIEWS&&f((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));p("set",(function(t){A(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=c(t);if(g)return o(h,this,r,e);var n=this.length,i=a(r),f=0;if(i+e>n)throw l("Wrong length");while(f<i)this[e+f]=r[f++]}),!g||v)},1439:function(t,e,r){"use strict";var n=r(1843),o=r(260),i=o.aTypedArray,a=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;a("toReversed",(function(){return n(i(this),s(this))}))},7585:function(t,e,r){"use strict";var n=r(260),o=r(1702),i=r(9662),a=r(7745),s=n.aTypedArray,c=n.getTypedArrayConstructor,f=n.exportTypedArrayMethod,l=o(n.TypedArrayPrototype.sort);f("toSorted",(function(t){void 0!==t&&i(t);var e=s(this),r=a(c(e),e);return l(r,t)}))},5315:function(t,e,r){"use strict";var n=r(1572),o=r(260),i=r(4067),a=r(9303),s=r(4599),c=o.aTypedArray,f=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=c(this),o=a(t),l=i(r)?s(e):+e;return n(r,f(r),o,l)}}["with"],!u)},2801:function(t,e,r){"use strict";var n=r(2109),o=r(7854),i=r(5005),a=r(9114),s=r(3070).f,c=r(2597),f=r(5787),l=r(9587),u=r(6277),d=r(3678),h=r(1060),A=r(9781),p=r(1913),g="DOMException",v=i("Error"),m=i(g),y=function(){f(this,w);var t=arguments.length,e=u(t<1?void 0:arguments[0]),r=u(t<2?void 0:arguments[1],"Error"),n=new m(e,r),o=v(e);return o.name=g,s(n,"stack",a(1,h(o.stack,1))),l(n,this,y),n},w=y.prototype=m.prototype,b="stack"in v(g),E="stack"in new m(1,2),_=m&&A&&Object.getOwnPropertyDescriptor(o,g),U=!!_&&!(_.writable&&_.configurable),F=b&&!U&&!E;n({global:!0,constructor:!0,forced:p||F},{DOMException:F?y:m});var R=i(g),I=R.prototype;if(I.constructor!==R)for(var C in p||s(I,"constructor",a(1,R)),d)if(c(d,C)){var B=d[C],T=B.s;c(R,T)||s(R,T,a(6,B.c))}},2062:function(t,e,r){"use strict";var n=r(9781),o=r(1702),i=r(7045),a=URLSearchParams.prototype,s=o(a.forEach);n&&!("size"in a)&&i(a,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})},3278:function(t){const e={DOM:{target:".viewport"},CONSTRAINS:{video:{width:{min:160,ideal:1200,max:10240},height:{min:120,ideal:720,max:4320},facingMode:"environment"}}};t.exports=(t=e.DOM.target,r=e.CONSTRAINS)=>{const n={target:t,viewport:null,video:null,canvas:null},o=t=>{let e;e=t?"string"===typeof t?document.querySelector(t):t:document.querySelector(".viewport");let r=e.querySelector(":scope>canvas");r||(r=e.createElement("canvas"),e.appendChild(r));let o=e.querySelector(":scope>video");o||(o=document.createElement("video"),e.appendChild(o)),n.viewport=e,n.canvas=r,n.video=o},i={stream:null,videoTrack:null},a=async t=>{try{const e=await navigator.mediaDevices.getUserMedia(t);i.stream=e;const{video:r,canvas:o}=n;return r.srcObject=e,e.getVideoTracks().forEach((t=>{i.videoTrack=t;const e=t.getSettings();o.width=e.width,o.height=e.height})),e}catch(e){return Promise.reject(e)}},s=(t,e)=>{const r=e.getContext("2d"),n={w:Math.floor(e.width),h:Math.floor(e.height)};r.clearRect(0,0,n.w,n.h),r.drawImage(t,0,0,n.w,n.h)},c={pause:!1},f=async()=>{try{let{stream:t}=i;return t||(t=await a(r)),t&&(c.pause=!1,t.getVideoTracks().forEach((t=>{t.enabled=!0})),requestAnimationFrame(d)),Promise.resolve(i.stream)}catch(t){return Promise.reject(t)}},l=async()=>{try{const{stream:t}=i;return t&&(c.pause=!0,t.getVideoTracks().forEach((t=>{t.enabled=!1}))),Promise.resolve(t)}catch(t){return Promise.reject(t)}},u=async()=>{try{const{stream:t}=i;return t&&(t.getTracks().forEach((t=>{t.enabled=!0,t.stop()})),i.stream=null,c.pause=!1),Promise.resolve(t)}catch(t){return Promise.reject(t)}},d=()=>{if(!c.pause){const{video:t,canvas:e}=n;s(t,e),setTimeout(requestAnimationFrame(d),1e3/30)}},h=async(t,e)=>{const{canvas:r}=n;return new Promise(((n,o)=>{try{r.toBlob((t=>{n(t)}),t,e)}catch(i){o(i)}}))},A=()=>{const{canvas:t}=n;return t.toDataURL()};return{get DOM(){return n},async init(){return new Promise((e=>(o(t),e(this))))},async start(){return await f()},async pause(){return await l()},async stop(){return await u()},async blob(){return await h()},snap(){return A()}}}},1281:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return x}});var n=r(3396),o=r(7139),i=r(9242);const a=t=>((0,n.dD)("data-v-85020d08"),t=t(),(0,n.Cn)(),t),s={class:"wapper"},c={class:"main"},f=a((()=>(0,n._)("section",{class:"camera camera-full"},[(0,n._)("div",{class:"viewport"},[(0,n._)("canvas"),(0,n._)("video",{autoplay:"",playsinline:""})])],-1))),l={class:"position-relative",style:{width:"100%",height:"100%"}},u=a((()=>(0,n._)("div",{class:"position-absolute top-50 start-50 translate-middle"},[(0,n._)("div",{class:"spinner-border",role:"status",style:{width:"3rem",height:"3rem"}},[(0,n._)("span",{class:"visually-hidden"},"Loading...")]),(0,n._)("p",null,"カメラの権限を確認中...")],-1))),d=[u],h={class:"fixed-top d-flex flex-row"},A=a((()=>(0,n._)("i",{class:"bi bi-x-square"},null,-1))),p=[A],g={class:"fixed-bottom"},v=a((()=>(0,n._)("i",{class:"bi bi-caret-right-square"},null,-1))),m=[v],y=a((()=>(0,n._)("i",{class:"bi bi-pause-circle"},null,-1))),w=[y],b=a((()=>(0,n._)("i",{class:"bi bi-stop-fill"},null,-1))),E=[b];function _(t,e){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("main",c,[f,(0,n._)("section",{class:(0,o.C_)(["cover",t.ui.loaded?"":"cover-loading"])},[(0,n.wy)((0,n._)("div",l,d,512),[[i.F8,!t.ui.loaded]])],2),(0,n._)("section",h,[(0,n.WI)(t.$slots,"close-button",{},(()=>[(0,n._)("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=(...e)=>t.close&&t.close(...e))},p)]),!0)]),(0,n._)("section",g,[(0,n.WI)(t.$slots,"start-button",{},(()=>[(0,n._)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...e)=>t.start&&t.start(...e))},m)]),!0),(0,n.WI)(t.$slots,"pause-button",{},(()=>[(0,n._)("button",{class:"btn btn-warning",onClick:e[2]||(e[2]=(...e)=>t.pause&&t.pause(...e))},w)]),!0),(0,n.WI)(t.$slots,"stop-button",{},(()=>[(0,n._)("button",{class:"btn btn-danger",onClick:e[3]||(e[3]=(...e)=>t.stop&&t.stop(...e))},E)]),!0)])])])}var U=r(4870),F=r(6542),R=r(3278),I=r.n(R);const C=(t,e)=>{const r=(0,F.tv)(),o=(0,U.iH)({instance:null}),i=(0,U.qj)({loaded:!1,error:""}),a=t=>{t&&t.preventDefault(),r.back()},s=t=>{t&&t.preventDefault();const r=o.value.instance;return r.start().then((t=>(console.log("start"),i.loaded=!0,e.emit("start",{data:r}),t))).catch((t=>(console.error(t),i.error=t,t)))},c=t=>{t&&t.preventDefault();const r=o.value.instance;return r.pause().then((t=>(e.emit("pause",{data:r}),t)))},f=t=>{t&&t.preventDefault(),i.loaded=!1;const r=o.value.instance;return r.stop().then((t=>(e.emit("stop",{data:r}),t)))},l=()=>{const t=o.value.instance;return t.snap()};return(0,n.bv)((()=>{const t=o.value.instance=I()(".viewport",{video:{width:{min:160,ideal:1200,max:10240},height:{min:120,ideal:720,max:4320},facingMode:"environment"}});t.init().then((()=>{e.emit("init",{data:t})}))})),(0,n.Ah)((()=>{f()})),{ui:i,close:a,start:s,pause:c,stop:f,snap:l}};var B=(0,n.aZ)({name:"p-camera",setup:C}),T=r(89);const M=(0,T.Z)(B,[["render",_],["__scopeId","data-v-85020d08"]]);var x=M},1061:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return et}});var n=r(3396),o=r(9242);const i={class:"container-fluid"},a={ref:"refImg"},s=(0,n._)("i",{class:"bi bi-arrow-left fs-1"},null,-1),c=[s],f=(0,n._)("span",null,null,-1),l=(0,n._)("i",{class:"bi bi-stop-circle fs-1"},null,-1),u=[l],d=(0,n._)("span",null,null,-1);function h(t,e,r,s,l,h){const A=(0,n.up)("PCameraVue");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("form",null,[(0,n._)("div",null,[(0,n._)("div",null,[(0,n._)("button",{class:"btn btn-secondary",onClick:e[0]||(e[0]=(...e)=>t.doClickCamera&&t.doClickCamera(...e))}," Camera ")]),(0,n._)("div",null,[(0,n._)("img",a,null,512)])]),(0,n.wy)((0,n.Wm)(A,{ref:"refCamera",onInit:t.emitedInit,onPause:t.emitedPause,onStop:t.emitedStop},{"close-button":(0,n.w5)((()=>[(0,n._)("button",{class:"btn btn-dark btn-lg",onClick:e[1]||(e[1]=(...e)=>t.doClickClose&&t.doClickClose(...e))},c)])),"start-button":(0,n.w5)((()=>[f])),"pause-button":(0,n.w5)((()=>[(0,n._)("button",{class:"btn btn-danger btn-lg",onClick:e[2]||(e[2]=(...e)=>t.doClickPause&&t.doClickPause(...e))},u)])),"stop-button":(0,n.w5)((()=>[d])),_:1},8,["onInit","onPause","onStop"]),[[o.F8,t.ui.show]])])])}var A=r(4870),p=r(1281);r(8675),r(3408),r(4590),r(3462),r(1439),r(7585),r(5315),r(7658),r(2801),r(1703),r(2062);function g(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(r){if("default"!==r&&!(r in t)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}))})),Object.freeze(t)}function v(t,e){return new Promise((function(r,n){let o;return m(t).then((function(t){try{return o=t,r(new Blob([e.slice(0,2),o,e.slice(2)],{type:"image/jpeg"}))}catch(t){return n(t)}}),n)}))}const m=t=>new Promise(((e,r)=>{const n=new FileReader;n.addEventListener("load",(({target:{result:t}})=>{const n=new DataView(t);let o=0;if(65496!==n.getUint16(o))return r("not a valid JPEG");for(o+=2;;){const i=n.getUint16(o);if(65498===i)break;const a=n.getUint16(o+2);if(65505===i&&1165519206===n.getUint32(o+4)){const i=o+10;let s;switch(n.getUint16(i)){case 18761:s=!0;break;case 19789:s=!1;break;default:return r("TIFF header contains invalid endian")}if(42!==n.getUint16(i+2,s))return r("TIFF header contains invalid version");const c=n.getUint32(i+4,s),f=i+c+2+12*n.getUint16(i+c,s);for(let t=i+c+2;t<f;t+=12)if(274==n.getUint16(t,s)){if(3!==n.getUint16(t+2,s))return r("Orientation data type is invalid");if(1!==n.getUint32(t+4,s))return r("Orientation data count is invalid");n.setUint16(t+8,1,s);break}return e(t.slice(o,o+2+a))}o+=2+a}return e(new Blob)})),n.readAsArrayBuffer(t)}));var y={},w={get exports(){return y},set exports(t){y=t}};!function(t){var e,r,n={};w.exports=n,n.parse=function(t,e){for(var r=n.bin.readUshort,o=n.bin.readUint,i=0,a={},s=new Uint8Array(t),c=s.length-4;101010256!=o(s,c);)c--;i=c,i+=4;var f=r(s,i+=4);r(s,i+=2);var l=o(s,i+=2),u=o(s,i+=4);i+=4,i=u;for(var d=0;d<f;d++){o(s,i),i+=4,i+=4,i+=4,o(s,i+=4),l=o(s,i+=4);var h=o(s,i+=4),A=r(s,i+=4),p=r(s,i+2),g=r(s,i+4);i+=6;var v=o(s,i+=8);i+=4,i+=A+p+g,n._readLocal(s,v,a,l,h,e)}return a},n._readLocal=function(t,e,r,o,i,a){var s=n.bin.readUshort,c=n.bin.readUint;c(t,e),s(t,e+=4),s(t,e+=2);var f=s(t,e+=2);c(t,e+=2),c(t,e+=4),e+=4;var l=s(t,e+=8),u=s(t,e+=2);e+=2;var d=n.bin.readUTF8(t,e,l);if(e+=l,e+=u,a)r[d]={size:i,csize:o};else{var h=new Uint8Array(t.buffer,e);if(0==f)r[d]=new Uint8Array(h.buffer.slice(e,e+o));else{if(8!=f)throw"unknown compression method: "+f;var A=new Uint8Array(i);n.inflateRaw(h,A),r[d]=A}}},n.inflateRaw=function(t,e){return n.F.inflate(t,e)},n.inflate=function(t,e){return t[0],t[1],n.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),e)},n.deflate=function(t,e){null==e&&(e={level:6});var r=0,o=new Uint8Array(50+Math.floor(1.1*t.length));o[r]=120,o[r+1]=156,r+=2,r=n.F.deflateRaw(t,o,r,e.level);var i=n.adler(t,0,t.length);return o[r+0]=i>>>24&255,o[r+1]=i>>>16&255,o[r+2]=i>>>8&255,o[r+3]=i>>>0&255,new Uint8Array(o.buffer,0,r+4)},n.deflateRaw=function(t,e){null==e&&(e={level:6});var r=new Uint8Array(50+Math.floor(1.1*t.length)),o=n.F.deflateRaw(t,r,o,e.level);return new Uint8Array(r.buffer,0,o)},n.encode=function(t,e){null==e&&(e=!1);var r=0,o=n.bin.writeUint,i=n.bin.writeUshort,a={};for(var s in t){var c=!n._noNeed(s)&&!e,f=t[s],l=n.crc.crc(f,0,f.length);a[s]={cpr:c,usize:f.length,crc:l,file:c?n.deflateRaw(f):f}}for(var s in a)r+=a[s].file.length+30+46+2*n.bin.sizeUTF8(s);r+=22;var u=new Uint8Array(r),d=0,h=[];for(var s in a){var A=a[s];h.push(d),d=n._writeHeader(u,d,s,A,0)}var p=0,g=d;for(var s in a)A=a[s],h.push(d),d=n._writeHeader(u,d,s,A,1,h[p++]);var v=d-g;return o(u,d,101010256),d+=4,i(u,d+=4,p),i(u,d+=2,p),o(u,d+=2,v),o(u,d+=4,g),d+=4,d+=2,u.buffer},n._noNeed=function(t){var e=t.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(e)},n._writeHeader=function(t,e,r,o,i,a){var s=n.bin.writeUint,c=n.bin.writeUshort,f=o.file;return s(t,e,0==i?67324752:33639248),e+=4,1==i&&(e+=2),c(t,e,20),c(t,e+=2,0),c(t,e+=2,o.cpr?8:0),s(t,e+=2,0),s(t,e+=4,o.crc),s(t,e+=4,f.length),s(t,e+=4,o.usize),c(t,e+=4,n.bin.sizeUTF8(r)),c(t,e+=2,0),e+=2,1==i&&(e+=2,e+=2,s(t,e+=6,a),e+=4),e+=n.bin.writeUTF8(t,e,r),0==i&&(t.set(f,e),e+=f.length),e},n.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var r=e,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}return t}(),update:function(t,e,r,o){for(var i=0;i<o;i++)t=n.crc.table[255&(t^e[r+i])]^t>>>8;return t},crc:function(t,e,r){return 4294967295^n.crc.update(4294967295,t,e,r)}},n.adler=function(t,e,r){for(var n=1,o=0,i=e,a=e+r;i<a;){for(var s=Math.min(i+5552,a);i<s;)o+=n+=t[i++];n%=65521,o%=65521}return o<<16|n},n.bin={readUshort:function(t,e){return t[e]|t[e+1]<<8},writeUshort:function(t,e,r){t[e]=255&r,t[e+1]=r>>8&255},readUint:function(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])},writeUint:function(t,e,r){t[e]=255&r,t[e+1]=r>>8&255,t[e+2]=r>>16&255,t[e+3]=r>>24&255},readASCII:function(t,e,r){for(var n="",o=0;o<r;o++)n+=String.fromCharCode(t[e+o]);return n},writeASCII:function(t,e,r){for(var n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,r){for(var o,i="",a=0;a<r;a++)i+="%"+n.bin.pad(t[e+a].toString(16));try{o=decodeURIComponent(i)}catch(o){return n.bin.readASCII(t,e,r)}return o},writeUTF8:function(t,e,r){for(var n=r.length,o=0,i=0;i<n;i++){var a=r.charCodeAt(i);if(0==(4294967168&a))t[e+o]=a,o++;else if(0==(4294965248&a))t[e+o]=192|a>>6,t[e+o+1]=128|a>>0&63,o+=2;else if(0==(4294901760&a))t[e+o]=224|a>>12,t[e+o+1]=128|a>>6&63,t[e+o+2]=128|a>>0&63,o+=3;else{if(0!=(4292870144&a))throw"e";t[e+o]=240|a>>18,t[e+o+1]=128|a>>12&63,t[e+o+2]=128|a>>6&63,t[e+o+3]=128|a>>0&63,o+=4}}return o},sizeUTF8:function(t){for(var e=t.length,r=0,n=0;n<e;n++){var o=t.charCodeAt(n);if(0==(4294967168&o))r++;else if(0==(4294965248&o))r+=2;else if(0==(4294901760&o))r+=3;else{if(0!=(4292870144&o))throw"e";r+=4}}return r}},n.F={},n.F.deflateRaw=function(t,e,r,o){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],a=n.F.U,s=n.F._goodIndex;n.F._hash;var c=n.F._putsE,f=0,l=r<<3,u=0,d=t.length;if(0==o){for(;f<d;)c(e,l,f+(U=Math.min(65535,d-f))==d?1:0),l=n.F._copyExact(t,f,U,e,l+8),f+=U;return l>>>3}var h=a.lits,A=a.strt,p=a.prev,g=0,v=0,m=0,y=0,w=0,b=0;for(d>2&&(A[b=n.F._hash(t,0)]=0),f=0;f<d;f++){if(w=b,f+1<d-2){b=n.F._hash(t,f+1);var E=f+1&32767;p[E]=A[b],A[b]=E}if(u<=f){(g>14e3||v>26697)&&d-f>100&&(u<f&&(h[g]=f-u,g+=2,u=f),l=n.F._writeBlock(f==d-1||u==d?1:0,h,g,y,t,m,f-m,e,l),g=v=y=0,m=f);var _=0;f<d-2&&(_=n.F._bestMatch(t,f,p,w,Math.min(i[2],d-f),i[3]));var U=_>>>16,F=65535&_;if(0!=_){F=65535&_;var R=s(U=_>>>16,a.of0);a.lhst[257+R]++;var I=s(F,a.df0);a.dhst[I]++,y+=a.exb[R]+a.dxb[I],h[g]=U<<23|f-u,h[g+1]=F<<16|R<<8|I,g+=2,u=f+U}else a.lhst[t[f]]++;v++}}for(m==f&&0!=t.length||(u<f&&(h[g]=f-u,g+=2,u=f),l=n.F._writeBlock(1,h,g,y,t,m,f-m,e,l),g=0,v=0,g=v=y=0,m=f);0!=(7&l);)l++;return l>>>3},n.F._bestMatch=function(t,e,r,o,i,a){var s=32767&e,c=r[s],f=s-c+32768&32767;if(c==s||o!=n.F._hash(t,e-f))return 0;for(var l=0,u=0,d=Math.min(32767,e);f<=d&&0!=--a&&c!=s;){if(0==l||t[e+l]==t[e+l-f]){var h=n.F._howLong(t,e,f);if(h>l){if(u=f,(l=h)>=i)break;f+2<h&&(h=f+2);for(var A=0,p=0;p<h-2;p++){var g=e-f+p+32768&32767,v=g-r[g]+32768&32767;v>A&&(A=v,c=g)}}}f+=(s=c)-(c=r[s])+32768&32767}return l<<16|u},n.F._howLong=function(t,e,r){if(t[e]!=t[e-r]||t[e+1]!=t[e+1-r]||t[e+2]!=t[e+2-r])return 0;var n=e,o=Math.min(t.length,e+258);for(e+=3;e<o&&t[e]==t[e-r];)e++;return e-n},n.F._hash=function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(t,e,r,o,i,a,s,c,f){var l,u,d,h,A,p,g,v,m,y=n.F.U,w=n.F._putsF,b=n.F._putsE;y.lhst[256]++,u=(l=n.F.getTrees())[0],d=l[1],h=l[2],A=l[3],p=l[4],g=l[5],v=l[6],m=l[7];var E=32+(0==(f+3&7)?0:8-(f+3&7))+(s<<3),_=o+n.F.contSize(y.fltree,y.lhst)+n.F.contSize(y.fdtree,y.dhst),U=o+n.F.contSize(y.ltree,y.lhst)+n.F.contSize(y.dtree,y.dhst);U+=14+3*g+n.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var F=0;F<286;F++)y.lhst[F]=0;for(F=0;F<30;F++)y.dhst[F]=0;for(F=0;F<19;F++)y.ihst[F]=0;var R=E<_&&E<U?0:_<U?1:2;if(w(c,f,t),w(c,f+1,R),f+=3,0==R){for(;0!=(7&f);)f++;f=n.F._copyExact(i,a,s,c,f)}else{var I,C;if(1==R&&(I=y.fltree,C=y.fdtree),2==R){n.F.makeCodes(y.ltree,u),n.F.revCodes(y.ltree,u),n.F.makeCodes(y.dtree,d),n.F.revCodes(y.dtree,d),n.F.makeCodes(y.itree,h),n.F.revCodes(y.itree,h),I=y.ltree,C=y.dtree,b(c,f,A-257),b(c,f+=5,p-1),b(c,f+=5,g-4),f+=4;for(var B=0;B<g;B++)b(c,f+3*B,y.itree[1+(y.ordr[B]<<1)]);f+=3*g,f=n.F._codeTiny(v,y.itree,c,f),f=n.F._codeTiny(m,y.itree,c,f)}for(var T=a,M=0;M<r;M+=2){for(var x=e[M],S=x>>>23,Q=T+(8388607&x);T<Q;)f=n.F._writeLit(i[T++],I,c,f);if(0!=S){var O=e[M+1],D=O>>16,k=O>>8&255,P=255&O;b(c,f=n.F._writeLit(257+k,I,c,f),S-y.of0[k]),f+=y.exb[k],w(c,f=n.F._writeLit(P,C,c,f),D-y.df0[P]),f+=y.dxb[P],T+=S}}f=n.F._writeLit(256,I,c,f)}return f},n.F._copyExact=function(t,e,r,n,o){var i=o>>>3;return n[i]=r,n[i+1]=r>>>8,n[i+2]=255-n[i],n[i+3]=255-n[i+1],i+=4,n.set(new Uint8Array(t.buffer,e,r),i),o+(r+4<<3)},n.F.getTrees=function(){for(var t=n.F.U,e=n.F._hufTree(t.lhst,t.ltree,15),r=n.F._hufTree(t.dhst,t.dtree,15),o=[],i=n.F._lenCodes(t.ltree,o),a=[],s=n.F._lenCodes(t.dtree,a),c=0;c<o.length;c+=2)t.ihst[o[c]]++;for(c=0;c<a.length;c+=2)t.ihst[a[c]]++;for(var f=n.F._hufTree(t.ihst,t.itree,7),l=19;l>4&&0==t.itree[1+(t.ordr[l-1]<<1)];)l--;return[e,r,f,i,s,l,o,a]},n.F.getSecond=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(t[r+1]);return e},n.F.nonZero=function(t){for(var e="",r=0;r<t.length;r+=2)0!=t[r+1]&&(e+=(r>>1)+",");return e},n.F.contSize=function(t,e){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[1+(n<<1)];return r},n.F._codeTiny=function(t,e,r,o){for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];o=n.F._writeLit(a,e,r,o);var c=16==a?2:17==a?3:7;a>15&&(n.F._putsE(r,o,s,c),o+=c)}return o},n.F._lenCodes=function(t,e){for(var r=t.length;2!=r&&0==t[r-1];)r-=2;for(var n=0;n<r;n+=2){var o=t[n+1],i=n+3<r?t[n+3]:-1,a=n+5<r?t[n+5]:-1,s=0==n?-1:t[n-1];if(0==o&&i==o&&a==o){for(var c=n+5;c+2<r&&t[c+2]==o;)c+=2;(f=Math.min(c+1-n>>>1,138))<11?e.push(17,f-3):e.push(18,f-11),n+=2*f-2}else if(o==s&&i==o&&a==o){for(c=n+5;c+2<r&&t[c+2]==o;)c+=2;var f=Math.min(c+1-n>>>1,6);e.push(16,f-3),n+=2*f-2}else e.push(o,0)}return r>>>1},n.F._hufTree=function(t,e,r){var o=[],i=t.length,a=e.length,s=0;for(s=0;s<a;s+=2)e[s]=0,e[s+1]=0;for(s=0;s<i;s++)0!=t[s]&&o.push({lit:s,f:t[s]});var c=o.length,f=o.slice(0);if(0==c)return 0;if(1==c){var l=o[0].lit;return f=0==l?1:0,e[1+(l<<1)]=1,e[1+(f<<1)]=1,1}o.sort((function(t,e){return t.f-e.f}));var u=o[0],d=o[1],h=0,A=1,p=2;for(o[0]={lit:-1,f:u.f+d.f,l:u,r:d,d:0};A!=c-1;)u=h!=A&&(p==c||o[h].f<o[p].f)?o[h++]:o[p++],d=h!=A&&(p==c||o[h].f<o[p].f)?o[h++]:o[p++],o[A++]={lit:-1,f:u.f+d.f,l:u,r:d};var g=n.F.setDepth(o[A-1],0);for(g>r&&(n.F.restrictDepth(f,r,g),g=r),s=0;s<c;s++)e[1+(f[s].lit<<1)]=f[s].d;return g},n.F.setDepth=function(t,e){return-1!=t.lit?(t.d=e,e):Math.max(n.F.setDepth(t.l,e+1),n.F.setDepth(t.r,e+1))},n.F.restrictDepth=function(t,e,r){var n=0,o=1<<r-e,i=0;for(t.sort((function(t,e){return e.d==t.d?t.f-e.f:e.d-t.d})),n=0;n<t.length&&t[n].d>e;n++){var a=t[n].d;t[n].d=e,i+=o-(1<<r-a)}for(i>>>=r-e;i>0;)(a=t[n].d)<e?(t[n].d++,i-=1<<e-a-1):n++;for(;n>=0;n--)t[n].d==e&&i<0&&(t[n].d--,i++);0!=i&&console.log("debt left")},n.F._goodIndex=function(t,e){var r=0;return e[16|r]<=t&&(r|=16),e[8|r]<=t&&(r|=8),e[4|r]<=t&&(r|=4),e[2|r]<=t&&(r|=2),e[1|r]<=t&&(r|=1),r},n.F._writeLit=function(t,e,r,o){return n.F._putsF(r,o,e[t<<1]),o+e[1+(t<<1)]},n.F.inflate=function(t,e){var r=Uint8Array;if(3==t[0]&&0==t[1])return e||new r(0);var o=n.F,i=o._bitsF,a=o._bitsE,s=o._decodeTiny,c=o.makeCodes,f=o.codes2map,l=o._get17,u=o.U,d=null==e;d&&(e=new r(t.length>>>2<<3));for(var h,A,p=0,g=0,v=0,m=0,y=0,w=0,b=0,E=0,_=0;0==p;)if(p=i(t,_,1),g=i(t,_+1,2),_+=3,0!=g){if(d&&(e=n.F._check(e,E+(1<<17))),1==g&&(h=u.flmap,A=u.fdmap,w=511,b=31),2==g){v=a(t,_,5)+257,m=a(t,_+5,5)+1,y=a(t,_+10,4)+4,_+=14;for(var U=0;U<38;U+=2)u.itree[U]=0,u.itree[U+1]=0;var F=1;for(U=0;U<y;U++){var R=a(t,_+3*U,3);u.itree[1+(u.ordr[U]<<1)]=R,R>F&&(F=R)}_+=3*y,c(u.itree,F),f(u.itree,F,u.imap),h=u.lmap,A=u.dmap,_=s(u.imap,(1<<F)-1,v+m,t,_,u.ttree);var I=o._copyOut(u.ttree,0,v,u.ltree);w=(1<<I)-1;var C=o._copyOut(u.ttree,v,m,u.dtree);b=(1<<C)-1,c(u.ltree,I),f(u.ltree,I,h),c(u.dtree,C),f(u.dtree,C,A)}for(;;){var B=h[l(t,_)&w];_+=15&B;var T=B>>>4;if(T>>>8==0)e[E++]=T;else{if(256==T)break;var M=E+T-254;if(T>264){var x=u.ldef[T-257];M=E+(x>>>3)+a(t,_,7&x),_+=7&x}var S=A[l(t,_)&b];_+=15&S;var Q=S>>>4,O=u.ddef[Q],D=(O>>>4)+i(t,_,15&O);for(_+=15&O,d&&(e=n.F._check(e,E+(1<<17)));E<M;)e[E]=e[E++-D],e[E]=e[E++-D],e[E]=e[E++-D],e[E]=e[E++-D];E=M}}}else{0!=(7&_)&&(_+=8-(7&_));var k=4+(_>>>3),P=t[k-4]|t[k-3]<<8;d&&(e=n.F._check(e,E+P)),e.set(new r(t.buffer,t.byteOffset+k,P),E),_=k+P<<3,E+=P}return e.length==E?e:e.slice(0,E)},n.F._check=function(t,e){var r=t.length;if(e<=r)return t;var n=new Uint8Array(Math.max(r<<1,e));return n.set(t,0),n},n.F._decodeTiny=function(t,e,r,o,i,a){for(var s=n.F._bitsE,c=n.F._get17,f=0;f<r;){var l=t[c(o,i)&e];i+=15&l;var u=l>>>4;if(u<=15)a[f]=u,f++;else{var d=0,h=0;16==u?(h=3+s(o,i,2),i+=2,d=a[f-1]):17==u?(h=3+s(o,i,3),i+=3):18==u&&(h=11+s(o,i,7),i+=7);for(var A=f+h;f<A;)a[f]=d,f++}}return i},n.F._copyOut=function(t,e,r,n){for(var o=0,i=0,a=n.length>>>1;i<r;){var s=t[i+e];n[i<<1]=0,n[1+(i<<1)]=s,s>o&&(o=s),i++}for(;i<a;)n[i<<1]=0,n[1+(i<<1)]=0,i++;return o},n.F.makeCodes=function(t,e){for(var r,o,i,a,s=n.F.U,c=t.length,f=s.bl_count,l=0;l<=e;l++)f[l]=0;for(l=1;l<c;l+=2)f[t[l]]++;var u=s.next_code;for(r=0,f[0]=0,o=1;o<=e;o++)r=r+f[o-1]<<1,u[o]=r;for(i=0;i<c;i+=2)0!=(a=t[i+1])&&(t[i]=u[a],u[a]++)},n.F.codes2map=function(t,e,r){for(var o=t.length,i=n.F.U.rev15,a=0;a<o;a+=2)if(0!=t[a+1])for(var s=a>>1,c=t[a+1],f=s<<4|c,l=e-c,u=t[a]<<l,d=u+(1<<l);u!=d;)r[i[u]>>>15-e]=f,u++},n.F.revCodes=function(t,e){for(var r=n.F.U.rev15,o=15-e,i=0;i<t.length;i+=2){var a=t[i]<<e-t[i+1];t[i]=r[a]>>>o}},n.F._putsE=function(t,e,r){r<<=7&e;var n=e>>>3;t[n]|=r,t[n+1]|=r>>>8},n.F._putsF=function(t,e,r){r<<=7&e;var n=e>>>3;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},n.F._bitsE=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},n.F._bitsF=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},n.F._get17=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},n.F._get25=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var t=n.F.U,e=0;e<32768;e++){var r=e;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[e]=(r>>>16|r<<16)>>>17}function o(t,e,r){for(;0!=e--;)t.push(0,r)}for(e=0;e<32;e++)t.ldef[e]=t.of0[e]<<3|t.exb[e],t.ddef[e]=t.df0[e]<<4|t.dxb[e];o(t.fltree,144,8),o(t.fltree,112,9),o(t.fltree,24,7),o(t.fltree,8,8),n.F.makeCodes(t.fltree,9),n.F.codes2map(t.fltree,9,t.flmap),n.F.revCodes(t.fltree,9),o(t.fdtree,32,5),n.F.makeCodes(t.fdtree,5),n.F.codes2map(t.fdtree,5,t.fdmap),n.F.revCodes(t.fdtree,5),o(t.itree,19,0),o(t.ltree,286,0),o(t.dtree,30,0),o(t.ttree,320,0)}()}();var b=g({__proto__:null,default:y},[y]);const E=function(){var t={nextZero(t,e){for(;0!=t[e];)e++;return e},readUshort:(t,e)=>t[e]<<8|t[e+1],writeUshort(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},readUint:(t,e)=>16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3]),writeUint(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},readASCII(t,e,r){let n="";for(let o=0;o<r;o++)n+=String.fromCharCode(t[e+o]);return n},writeASCII(t,e,r){for(let n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},readBytes(t,e,r){const n=[];for(let o=0;o<r;o++)n.push(t[e+o]);return n},pad:t=>t.length<2?`0${t}`:t,readUTF8(e,r,n){let o,i="";for(let a=0;a<n;a++)i+=`%${t.pad(e[r+a].toString(16))}`;try{o=decodeURIComponent(i)}catch(o){return t.readASCII(e,r,n)}return o}};function e(e,r,n,o){const a=r*n,s=i(o),c=Math.ceil(r*s/8),f=new Uint8Array(4*a),l=new Uint32Array(f.buffer),{ctype:u}=o,{depth:d}=o,h=t.readUshort;if(6==u){const t=a<<2;if(8==d)for(var A=0;A<t;A+=4)f[A]=e[A],f[A+1]=e[A+1],f[A+2]=e[A+2],f[A+3]=e[A+3];if(16==d)for(A=0;A<t;A++)f[A]=e[A<<1]}else if(2==u){const t=o.tabs.tRNS;if(null==t){if(8==d)for(A=0;A<a;A++){var p=3*A;l[A]=255<<24|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==d)for(A=0;A<a;A++)p=6*A,l[A]=255<<24|e[p+4]<<16|e[p+2]<<8|e[p]}else{var g=t[0];const r=t[1],n=t[2];if(8==d)for(A=0;A<a;A++){var v=A<<2;p=3*A,l[A]=255<<24|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==g&&e[p+1]==r&&e[p+2]==n&&(f[v+3]=0)}if(16==d)for(A=0;A<a;A++)v=A<<2,p=6*A,l[A]=255<<24|e[p+4]<<16|e[p+2]<<8|e[p],h(e,p)==g&&h(e,p+2)==r&&h(e,p+4)==n&&(f[v+3]=0)}}else if(3==u){const t=o.tabs.PLTE,i=o.tabs.tRNS,s=i?i.length:0;if(1==d)for(var m=0;m<n;m++){var y=m*c,w=m*r;for(A=0;A<r;A++){v=w+A<<2;var b=3*(E=e[y+(A>>3)]>>7-((7&A)<<0)&1);f[v]=t[b],f[v+1]=t[b+1],f[v+2]=t[b+2],f[v+3]=E<s?i[E]:255}}if(2==d)for(m=0;m<n;m++)for(y=m*c,w=m*r,A=0;A<r;A++)v=w+A<<2,b=3*(E=e[y+(A>>2)]>>6-((3&A)<<1)&3),f[v]=t[b],f[v+1]=t[b+1],f[v+2]=t[b+2],f[v+3]=E<s?i[E]:255;if(4==d)for(m=0;m<n;m++)for(y=m*c,w=m*r,A=0;A<r;A++)v=w+A<<2,b=3*(E=e[y+(A>>1)]>>4-((1&A)<<2)&15),f[v]=t[b],f[v+1]=t[b+1],f[v+2]=t[b+2],f[v+3]=E<s?i[E]:255;if(8==d)for(A=0;A<a;A++){var E;v=A<<2,b=3*(E=e[A]),f[v]=t[b],f[v+1]=t[b+1],f[v+2]=t[b+2],f[v+3]=E<s?i[E]:255}}else if(4==u){if(8==d)for(A=0;A<a;A++){v=A<<2;var _=e[U=A<<1];f[v]=_,f[v+1]=_,f[v+2]=_,f[v+3]=e[U+1]}if(16==d)for(A=0;A<a;A++){var U;v=A<<2,_=e[U=A<<2],f[v]=_,f[v+1]=_,f[v+2]=_,f[v+3]=e[U+2]}}else if(0==u)for(g=o.tabs.tRNS?o.tabs.tRNS:-1,m=0;m<n;m++){const t=m*c,n=m*r;if(1==d)for(var F=0;F<r;F++){var R=(_=255*(e[t+(F>>>3)]>>>7-(7&F)&1))==255*g?0:255;l[n+F]=R<<24|_<<16|_<<8|_}else if(2==d)for(F=0;F<r;F++)R=(_=85*(e[t+(F>>>2)]>>>6-((3&F)<<1)&3))==85*g?0:255,l[n+F]=R<<24|_<<16|_<<8|_;else if(4==d)for(F=0;F<r;F++)R=(_=17*(e[t+(F>>>1)]>>>4-((1&F)<<2)&15))==17*g?0:255,l[n+F]=R<<24|_<<16|_<<8|_;else if(8==d)for(F=0;F<r;F++)R=(_=e[t+F])==g?0:255,l[n+F]=R<<24|_<<16|_<<8|_;else if(16==d)for(F=0;F<r;F++)_=e[t+(F<<1)],R=h(e,t+(F<<1))==g?0:255,l[n+F]=R<<24|_<<16|_<<8|_}return f}function r(t,e,r,s){const c=i(t),f=Math.ceil(r*c/8),l=new Uint8Array((f+1+t.interlace)*s);return e=t.tabs.CgBI?o(e,l):n(e,l),0==t.interlace?e=a(e,t,0,r,s):1==t.interlace&&(e=function(t,e){const r=e.width,n=e.height,o=i(e),s=o>>3,c=Math.ceil(r*o/8),f=new Uint8Array(n*c);let l=0;const u=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let p=0;for(;p<7;){const i=h[p],v=A[p];let m=0,y=0,w=u[p];for(;w<n;)w+=i,y++;let b=d[p];for(;b<r;)b+=v,m++;const E=Math.ceil(m*o/8);a(t,e,l,m,y);let _=0,U=u[p];for(;U<n;){let e=d[p],n=l+_*E<<3;for(;e<r;){var g;if(1==o&&(g=(g=t[n>>3])>>7-(7&n)&1,f[U*c+(e>>3)]|=g<<7-((7&e)<<0)),2==o&&(g=(g=t[n>>3])>>6-(7&n)&3,f[U*c+(e>>2)]|=g<<6-((3&e)<<1)),4==o&&(g=(g=t[n>>3])>>4-(7&n)&15,f[U*c+(e>>1)]|=g<<4-((1&e)<<2)),o>=8){const r=U*c+e*s;for(let e=0;e<s;e++)f[r+e]=t[(n>>3)+e]}n+=o,e+=v}_++,U+=i}m*y!=0&&(l+=y*(1+E)),p+=1}return f}(e,t)),e}function n(t,e){return o(new Uint8Array(t.buffer,2,t.length-6),e)}var o=function(){const t={H:{}};return t.H.N=function(e,r){const n=Uint8Array;let o,i,a=0,s=0,c=0,f=0,l=0,u=0,d=0,h=0,A=0;if(3==e[0]&&0==e[1])return r||new n(0);const p=t.H,g=p.b,v=p.e,m=p.R,y=p.n,w=p.A,b=p.Z,E=p.m,_=null==r;for(_&&(r=new n(e.length>>>2<<5));0==a;)if(a=g(e,A,1),s=g(e,A+1,2),A+=3,0!=s){if(_&&(r=t.H.W(r,h+(1<<17))),1==s&&(o=E.J,i=E.h,u=511,d=31),2==s){c=v(e,A,5)+257,f=v(e,A+5,5)+1,l=v(e,A+10,4)+4,A+=14;let t=1;for(var U=0;U<38;U+=2)E.Q[U]=0,E.Q[U+1]=0;for(U=0;U<l;U++){const r=v(e,A+3*U,3);E.Q[1+(E.X[U]<<1)]=r,r>t&&(t=r)}A+=3*l,y(E.Q,t),w(E.Q,t,E.u),o=E.w,i=E.d,A=m(E.u,(1<<t)-1,c+f,e,A,E.v);const r=p.V(E.v,0,c,E.C);u=(1<<r)-1;const n=p.V(E.v,c,f,E.D);d=(1<<n)-1,y(E.C,r),w(E.C,r,o),y(E.D,n),w(E.D,n,i)}for(;;){const t=o[b(e,A)&u];A+=15&t;const n=t>>>4;if(n>>>8==0)r[h++]=n;else{if(256==n)break;{let t=h+n-254;if(n>264){const r=E.q[n-257];t=h+(r>>>3)+v(e,A,7&r),A+=7&r}const o=i[b(e,A)&d];A+=15&o;const a=o>>>4,s=E.c[a],c=(s>>>4)+g(e,A,15&s);for(A+=15&s;h<t;)r[h]=r[h++-c],r[h]=r[h++-c],r[h]=r[h++-c],r[h]=r[h++-c];h=t}}}}else{0!=(7&A)&&(A+=8-(7&A));const o=4+(A>>>3),i=e[o-4]|e[o-3]<<8;_&&(r=t.H.W(r,h+i)),r.set(new n(e.buffer,e.byteOffset+o,i),h),A=o+i<<3,h+=i}return r.length==h?r:r.slice(0,h)},t.H.W=function(t,e){const r=t.length;if(e<=r)return t;const n=new Uint8Array(r<<1);return n.set(t,0),n},t.H.R=function(e,r,n,o,i,a){const s=t.H.e,c=t.H.Z;let f=0;for(;f<n;){const t=e[c(o,i)&r];i+=15&t;const n=t>>>4;if(n<=15)a[f]=n,f++;else{let t=0,e=0;16==n?(e=3+s(o,i,2),i+=2,t=a[f-1]):17==n?(e=3+s(o,i,3),i+=3):18==n&&(e=11+s(o,i,7),i+=7);const r=f+e;for(;f<r;)a[f]=t,f++}}return i},t.H.V=function(t,e,r,n){let o=0,i=0;const a=n.length>>>1;for(;i<r;){const r=t[i+e];n[i<<1]=0,n[1+(i<<1)]=r,r>o&&(o=r),i++}for(;i<a;)n[i<<1]=0,n[1+(i<<1)]=0,i++;return o},t.H.n=function(e,r){const n=t.H.m,o=e.length;let i,a,s,c;const f=n.j;for(var l=0;l<=r;l++)f[l]=0;for(l=1;l<o;l+=2)f[e[l]]++;const u=n.K;for(i=0,f[0]=0,a=1;a<=r;a++)i=i+f[a-1]<<1,u[a]=i;for(s=0;s<o;s+=2)c=e[s+1],0!=c&&(e[s]=u[c],u[c]++)},t.H.A=function(e,r,n){const o=e.length,i=t.H.m.r;for(let t=0;t<o;t+=2)if(0!=e[t+1]){const o=t>>1,a=e[t+1],s=o<<4|a,c=r-a;let f=e[t]<<c;const l=f+(1<<c);for(;f!=l;)n[i[f]>>>15-r]=s,f++}},t.H.l=function(e,r){const n=t.H.m.r,o=15-r;for(let t=0;t<e.length;t+=2){const i=e[t]<<r-e[t+1];e[t]=n[i]>>>o}},t.H.M=function(t,e,r){r<<=7&e;const n=e>>>3;t[n]|=r,t[n+1]|=r>>>8},t.H.I=function(t,e,r){r<<=7&e;const n=e>>>3;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},t.H.e=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},t.H.b=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},t.H.Z=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},t.H.i=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},t.H.m=function(){const t=Uint16Array,e=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new t(65536),g:new t(32768)}}(),function(){const e=t.H.m;for(var r=0;r<32768;r++){let t=r;t=(2863311530&t)>>>1|(1431655765&t)<<1,t=(3435973836&t)>>>2|(858993459&t)<<2,t=(4042322160&t)>>>4|(252645135&t)<<4,t=(4278255360&t)>>>8|(16711935&t)<<8,e.r[r]=(t>>>16|t<<16)>>>17}function n(t,e,r){for(;0!=e--;)t.push(0,r)}for(r=0;r<32;r++)e.q[r]=e.S[r]<<3|e.T[r],e.c[r]=e.p[r]<<4|e.z[r];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),n(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),t.H.N}();function i(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth}function a(t,e,r,n,o){let a=i(e);const c=Math.ceil(n*a/8);let f,l;a=Math.ceil(a/8);let u=t[r],d=0;if(u>1&&(t[r]=[0,0,1][u-2]),3==u)for(d=a;d<c;d++)t[d+1]=t[d+1]+(t[d+1-a]>>>1)&255;for(let i=0;i<o;i++)if(f=r+i*c,l=f+i+1,u=t[l-1],d=0,0==u)for(;d<c;d++)t[f+d]=t[l+d];else if(1==u){for(;d<a;d++)t[f+d]=t[l+d];for(;d<c;d++)t[f+d]=t[l+d]+t[f+d-a]}else if(2==u)for(;d<c;d++)t[f+d]=t[l+d]+t[f+d-c];else if(3==u){for(;d<a;d++)t[f+d]=t[l+d]+(t[f+d-c]>>>1);for(;d<c;d++)t[f+d]=t[l+d]+(t[f+d-c]+t[f+d-a]>>>1)}else{for(;d<a;d++)t[f+d]=t[l+d]+s(0,t[f+d-c],0);for(;d<c;d++)t[f+d]=t[l+d]+s(t[f+d-a],t[f+d-c],t[f+d-a-c])}return t}function s(t,e,r){const n=t+e-r,o=n-t,i=n-e,a=n-r;return o*o<=i*i&&o*o<=a*a?t:i*i<=a*a?e:r}function c(e,r,n){n.width=t.readUint(e,r),r+=4,n.height=t.readUint(e,r),r+=4,n.depth=e[r],r++,n.ctype=e[r],r++,n.compress=e[r],r++,n.filter=e[r],r++,n.interlace=e[r],r++}function f(t,e,r,n,o,i,a,s,c){const f=Math.min(e,o),l=Math.min(r,i);let u=0,d=0;for(let b=0;b<l;b++)for(let r=0;r<f;r++)if(a>=0&&s>=0?(u=b*e+r<<2,d=(s+b)*o+a+r<<2):(u=(-s+b)*e-a+r<<2,d=b*o+r<<2),0==c)n[d]=t[u],n[d+1]=t[u+1],n[d+2]=t[u+2],n[d+3]=t[u+3];else if(1==c){var h=t[u+3]*(1/255),A=t[u]*h,p=t[u+1]*h,g=t[u+2]*h,v=n[d+3]*(1/255),m=n[d]*v,y=n[d+1]*v,w=n[d+2]*v;const e=1-h,r=h+v*e,o=0==r?0:1/r;n[d+3]=255*r,n[d+0]=(A+m*e)*o,n[d+1]=(p+y*e)*o,n[d+2]=(g+w*e)*o}else if(2==c)h=t[u+3],A=t[u],p=t[u+1],g=t[u+2],v=n[d+3],m=n[d],y=n[d+1],w=n[d+2],h==v&&A==m&&p==y&&g==w?(n[d]=0,n[d+1]=0,n[d+2]=0,n[d+3]=0):(n[d]=A,n[d+1]=p,n[d+2]=g,n[d+3]=h);else if(3==c){if(h=t[u+3],A=t[u],p=t[u+1],g=t[u+2],v=n[d+3],m=n[d],y=n[d+1],w=n[d+2],h==v&&A==m&&p==y&&g==w)continue;if(h<220&&v>20)return!1}return!0}return{decode:function(e){const i=new Uint8Array(e);let a=8;const s=t,f=s.readUshort,l=s.readUint,u={tabs:{},frames:[]},d=new Uint8Array(i.length);let h,A=0,p=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(i[v]!=g[v])throw"The input is not a PNG file!";for(;a<i.length;){const e=s.readUint(i,a);a+=4;const g=s.readASCII(i,a,4);if(a+=4,"IHDR"==g)c(i,a,u);else if("iCCP"==g){for(var m=a;0!=i[m];)m++;s.readASCII(i,a,m-a),i[m+1];const r=i.slice(m+2,a+e);let c=null;try{c=n(r)}catch(t){c=o(r)}u.tabs[g]=c}else if("CgBI"==g)u.tabs[g]=i.slice(a,a+4);else if("IDAT"==g){for(v=0;v<e;v++)d[A+v]=i[a+v];A+=e}else if("acTL"==g)u.tabs[g]={num_frames:l(i,a),num_plays:l(i,a+4)},h=new Uint8Array(i.length);else if("fcTL"==g){0!=p&&((U=u.frames[u.frames.length-1]).data=r(u,h.slice(0,p),U.rect.width,U.rect.height),p=0);const t={x:l(i,a+12),y:l(i,a+16),width:l(i,a+4),height:l(i,a+8)};let e=f(i,a+22);e=f(i,a+20)/(0==e?100:e);const n={rect:t,delay:Math.round(1e3*e),dispose:i[a+24],blend:i[a+25]};u.frames.push(n)}else if("fdAT"==g){for(v=0;v<e-4;v++)h[p+v]=i[a+v+4];p+=e-4}else if("pHYs"==g)u.tabs[g]=[s.readUint(i,a),s.readUint(i,a+4),i[a+8]];else if("cHRM"==g)for(u.tabs[g]=[],v=0;v<8;v++)u.tabs[g].push(s.readUint(i,a+4*v));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var y=s.nextZero(i,a),w=s.readASCII(i,a,y-a),b=a+e-y-1;if("tEXt"==g)_=s.readASCII(i,y+1,b);else{var E=n(i.slice(y+2,y+2+b));_=s.readUTF8(E,0,E.length)}u.tabs[g][w]=_}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),y=0,m=a,y=s.nextZero(i,m),w=s.readASCII(i,m,y-m);const t=i[m=y+1];var _;i[m+1],m+=2,y=s.nextZero(i,m),s.readASCII(i,m,y-m),m=y+1,y=s.nextZero(i,m),s.readUTF8(i,m,y-m),b=e-((m=y+1)-a),0==t?_=s.readUTF8(i,m,b):(E=n(i.slice(m,m+b)),_=s.readUTF8(E,0,E.length)),u.tabs[g][w]=_}else if("PLTE"==g)u.tabs[g]=s.readBytes(i,a,e);else if("hIST"==g){const t=u.tabs.PLTE.length/3;for(u.tabs[g]=[],v=0;v<t;v++)u.tabs[g].push(f(i,a+2*v))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=s.readBytes(i,a,e):0==u.ctype?u.tabs[g]=f(i,a):2==u.ctype&&(u.tabs[g]=[f(i,a),f(i,a+2),f(i,a+4)]);else if("gAMA"==g)u.tabs[g]=s.readUint(i,a)/1e5;else if("sRGB"==g)u.tabs[g]=i[a];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[f(i,a)]:2==u.ctype||6==u.ctype?u.tabs[g]=[f(i,a),f(i,a+2),f(i,a+4)]:3==u.ctype&&(u.tabs[g]=i[a]);else if("IEND"==g)break;a+=e,s.readUint(i,a),a+=4}var U;return 0!=p&&((U=u.frames[u.frames.length-1]).data=r(u,h.slice(0,p),U.rect.width,U.rect.height)),u.data=r(u,d,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(t){const r=t.width,n=t.height;if(null==t.tabs.acTL)return[e(t.data,r,n,t).buffer];const o=[];null==t.frames[0].data&&(t.frames[0].data=t.data);const i=r*n*4,a=new Uint8Array(i),s=new Uint8Array(i),c=new Uint8Array(i);for(let u=0;u<t.frames.length;u++){const d=t.frames[u],h=d.rect.x,A=d.rect.y,p=d.rect.width,g=d.rect.height,v=e(d.data,p,g,t);if(0!=u)for(var l=0;l<i;l++)c[l]=a[l];if(0==d.blend?f(v,p,g,a,r,n,h,A,0):1==d.blend&&f(v,p,g,a,r,n,h,A,1),o.push(a.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)f(s,p,g,a,r,n,h,A,0);else if(2==d.dispose)for(l=0;l<i;l++)a[l]=c[l]}return o},_paeth:s,_copyTile:f,_bin:t}}();!function(){const{_copyTile:t}=E,{_bin:e}=E,r=E._paeth;var n={table:function(){const t=new Uint32Array(256);for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}return t}(),update(t,e,r,o){for(let i=0;i<o;i++)t=n.table[255&(t^e[r+i])]^t>>>8;return t},crc:(t,e,r)=>4294967295^n.update(4294967295,t,e,r)};function o(t,e,r,n){e[r]+=t[0]*n>>4,e[r+1]+=t[1]*n>>4,e[r+2]+=t[2]*n>>4,e[r+3]+=t[3]*n>>4}function i(t){return Math.max(0,Math.min(255,t))}function a(t,e){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+o*o+i*i}function s(t,e,r,n,s,c,f){null==f&&(f=1);const l=n.length,u=[];for(var d=0;d<l;d++){const t=n[d];u.push([t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255])}for(d=0;d<l;d++){let t=4294967295;for(var h=0,A=0;A<l;A++){var p=a(u[d],u[A]);A!=d&&p<t&&(t=p,h=A)}}const g=new Uint32Array(s.buffer),v=new Int16Array(e*r*4),m=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<m.length;d++)m[d]=255*((m[d]+.5)/16-.5);for(let w=0;w<r;w++)for(let s=0;s<e;s++){var y;d=4*(w*e+s),2!=f?y=[i(t[d]+v[d]),i(t[d+1]+v[d+1]),i(t[d+2]+v[d+2]),i(t[d+3]+v[d+3])]:(p=m[4*(3&w)+(3&s)],y=[i(t[d]+p),i(t[d+1]+p),i(t[d+2]+p),i(t[d+3]+p)]),h=0;let b=16777215;for(A=0;A<l;A++){const t=a(y,u[A]);t<b&&(b=t,h=A)}const E=u[h],_=[y[0]-E[0],y[1]-E[1],y[2]-E[2],y[3]-E[3]];1==f&&(s!=e-1&&o(_,v,d+4,7),w!=r-1&&(0!=s&&o(_,v,d+4*e-4,3),o(_,v,d+4*e,5),s!=e-1&&o(_,v,d+4*e+4,1))),c[d>>2]=h,g[d>>2]=n[h]}}function c(t,r,o,i,a){null==a&&(a={});const{crc:s}=n,c=e.writeUint,f=e.writeUshort,l=e.writeASCII;let u=8;const d=t.frames.length>1;let h,A=!1,p=33+(d?20:0);if(null!=a.sRGB&&(p+=13),null!=a.pHYs&&(p+=21),null!=a.iCCP&&(h=pako.deflate(a.iCCP),p+=21+h.length+4),3==t.ctype){for(var g=t.plte.length,v=0;v<g;v++)t.plte[v]>>>24!=255&&(A=!0);p+=8+3*g+4+(A?8+1*g+4:0)}for(var m=0;m<t.frames.length;m++)d&&(p+=38),p+=(E=t.frames[m]).cimg.length+12,0!=m&&(p+=4);p+=12;const y=new Uint8Array(p),w=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)y[v]=w[v];if(c(y,u,13),u+=4,l(y,u,"IHDR"),u+=4,c(y,u,r),u+=4,c(y,u,o),u+=4,y[u]=t.depth,u++,y[u]=t.ctype,u++,y[u]=0,u++,y[u]=0,u++,y[u]=0,u++,c(y,u,s(y,u-17,17)),u+=4,null!=a.sRGB&&(c(y,u,1),u+=4,l(y,u,"sRGB"),u+=4,y[u]=a.sRGB,u++,c(y,u,s(y,u-5,5)),u+=4),null!=a.iCCP){const t=13+h.length;c(y,u,t),u+=4,l(y,u,"iCCP"),u+=4,l(y,u,"ICC profile"),u+=11,u+=2,y.set(h,u),u+=h.length,c(y,u,s(y,u-(t+4),t+4)),u+=4}if(null!=a.pHYs&&(c(y,u,9),u+=4,l(y,u,"pHYs"),u+=4,c(y,u,a.pHYs[0]),u+=4,c(y,u,a.pHYs[1]),u+=4,y[u]=a.pHYs[2],u++,c(y,u,s(y,u-13,13)),u+=4),d&&(c(y,u,8),u+=4,l(y,u,"acTL"),u+=4,c(y,u,t.frames.length),u+=4,c(y,u,null!=a.loop?a.loop:0),u+=4,c(y,u,s(y,u-12,12)),u+=4),3==t.ctype){for(c(y,u,3*(g=t.plte.length)),u+=4,l(y,u,"PLTE"),u+=4,v=0;v<g;v++){const e=3*v,r=t.plte[v],n=255&r,o=r>>>8&255,i=r>>>16&255;y[u+e+0]=n,y[u+e+1]=o,y[u+e+2]=i}if(u+=3*g,c(y,u,s(y,u-3*g-4,3*g+4)),u+=4,A){for(c(y,u,g),u+=4,l(y,u,"tRNS"),u+=4,v=0;v<g;v++)y[u+v]=t.plte[v]>>>24&255;u+=g,c(y,u,s(y,u-g-4,g+4)),u+=4}}let b=0;for(m=0;m<t.frames.length;m++){var E=t.frames[m];d&&(c(y,u,26),u+=4,l(y,u,"fcTL"),u+=4,c(y,u,b++),u+=4,c(y,u,E.rect.width),u+=4,c(y,u,E.rect.height),u+=4,c(y,u,E.rect.x),u+=4,c(y,u,E.rect.y),u+=4,f(y,u,i[m]),u+=2,f(y,u,1e3),u+=2,y[u]=E.dispose,u++,y[u]=E.blend,u++,c(y,u,s(y,u-30,30)),u+=4);const e=E.cimg;c(y,u,(g=e.length)+(0==m?0:4)),u+=4;const r=u;l(y,u,0==m?"IDAT":"fdAT"),u+=4,0!=m&&(c(y,u,b++),u+=4),y.set(e,u),u+=g,c(y,u,s(y,r,u-r)),u+=4}return c(y,u,0),u+=4,l(y,u,"IEND"),u+=4,c(y,u,s(y,u-4,4)),u+=4,y.buffer}function f(t,e,r){for(let n=0;n<t.frames.length;n++){const o=t.frames[n];o.rect.width;const i=o.rect.height,a=new Uint8Array(i*o.bpl+i);o.cimg=h(o.img,i,o.bpp,o.bpl,a,e,r)}}function l(e,r,n,o,i){const a=i[0],c=i[1],f=i[2],l=i[3],h=i[4],A=i[5];let g=6,v=8,m=255;for(var y=0;y<e.length;y++){const t=new Uint8Array(e[y]);for(var w=t.length,b=0;b<w;b+=4)m&=t[b+3]}const E=255!=m,_=function(e,r,n,o,i,a){const s=[];for(var c=0;c<e.length;c++){const u=new Uint8Array(e[c]),h=new Uint32Array(u.buffer);var f;let p=0,g=0,v=r,m=n,y=o?1:0;if(0!=c){const w=a||o||1==c||0!=s[c-2].dispose?1:2;let b=0,E=1e9;for(let t=0;t<w;t++){var l=new Uint8Array(e[c-1-t]);const o=new Uint32Array(e[c-1-t]);let a=r,s=n,f=-1,u=-1;for(let t=0;t<n;t++)for(let e=0;e<r;e++)h[A=t*r+e]!=o[A]&&(e<a&&(a=e),e>f&&(f=e),t<s&&(s=t),t>u&&(u=t));-1==f&&(a=s=f=u=0),i&&(1==(1&a)&&a--,1==(1&s)&&s--);const d=(f-a+1)*(u-s+1);d<E&&(E=d,b=t,p=a,g=s,v=f-a+1,m=u-s+1)}l=new Uint8Array(e[c-1-b]),1==b&&(s[c-1].dispose=2),f=new Uint8Array(v*m*4),t(l,r,n,f,v,m,-p,-g,0),y=t(u,r,n,f,v,m,-p,-g,3)?1:0,1==y?d(u,r,n,f,{x:p,y:g,width:v,height:m}):t(u,r,n,f,v,m,-p,-g,0)}else f=u.slice(0);s.push({rect:{x:p,y:g,width:v,height:m},img:f,blend:y,dispose:0})}if(o)for(c=0;c<s.length;c++){if(1==(p=s[c]).blend)continue;const t=p.rect,o=s[c-1].rect,a=Math.min(t.x,o.x),f=Math.min(t.y,o.y),l={x:a,y:f,width:Math.max(t.x+t.width,o.x+o.width)-a,height:Math.max(t.y+t.height,o.y+o.height)-f};s[c-1].dispose=1,c-1!=0&&u(e,r,n,s,c-1,l,i),u(e,r,n,s,c,l,i)}let h=0;if(1!=e.length)for(var A=0;A<s.length;A++){var p;h+=(p=s[A]).rect.width*p.rect.height}return s}(e,r,n,a,c,f),U={},F=[],R=[];if(0!=o){const t=[];for(b=0;b<_.length;b++)t.push(_[b].img.buffer);const e=function(t){let e=0;for(var r=0;r<t.length;r++)e+=t[r].byteLength;const n=new Uint8Array(e);let o=0;for(r=0;r<t.length;r++){const e=new Uint8Array(t[r]),i=e.length;for(let t=0;t<i;t+=4){let r=e[t],i=e[t+1],a=e[t+2];const s=e[t+3];0==s&&(r=i=a=0),n[o+t]=r,n[o+t+1]=i,n[o+t+2]=a,n[o+t+3]=s}o+=i}return n.buffer}(t),r=p(e,o);for(b=0;b<r.plte.length;b++)F.push(r.plte[b].est.rgba);let n=0;for(b=0;b<_.length;b++){const t=(C=_[b]).img.length;var I=new Uint8Array(r.inds.buffer,n>>2,t>>2);R.push(I);const e=new Uint8Array(r.abuf,n,t);A&&s(C.img,C.rect.width,C.rect.height,F,e,I),C.img.set(e),n+=t}}else for(y=0;y<_.length;y++){var C=_[y];const t=new Uint32Array(C.img.buffer);var B=C.rect.width;for(w=t.length,I=new Uint8Array(w),R.push(I),b=0;b<w;b++){const e=t[b];if(0!=b&&e==t[b-1])I[b]=I[b-1];else if(b>B&&e==t[b-B])I[b]=I[b-B];else{let t=U[e];if(null==t&&(U[e]=t=F.length,F.push(e),F.length>=300))break;I[b]=t}}}const T=F.length;for(T<=256&&0==h&&(v=T<=2?1:T<=4?2:T<=16?4:8,v=Math.max(v,l)),y=0;y<_.length;y++){(C=_[y]).rect.x,C.rect.y,B=C.rect.width;const t=C.rect.height;let e=C.img;new Uint32Array(e.buffer);let r=4*B,n=4;if(T<=256&&0==h){r=Math.ceil(v*B/8);var M=new Uint8Array(r*t);const o=R[y];for(let e=0;e<t;e++){b=e*r;const t=e*B;if(8==v)for(var x=0;x<B;x++)M[b+x]=o[t+x];else if(4==v)for(x=0;x<B;x++)M[b+(x>>1)]|=o[t+x]<<4-4*(1&x);else if(2==v)for(x=0;x<B;x++)M[b+(x>>2)]|=o[t+x]<<6-2*(3&x);else if(1==v)for(x=0;x<B;x++)M[b+(x>>3)]|=o[t+x]<<7-1*(7&x)}e=M,g=3,n=1}else if(0==E&&1==_.length){M=new Uint8Array(B*t*3);const o=B*t;for(b=0;b<o;b++){const t=3*b,r=4*b;M[t]=e[r],M[t+1]=e[r+1],M[t+2]=e[r+2]}e=M,g=2,n=3,r=3*B}C.img=e,C.bpl=r,C.bpp=n}return{ctype:g,depth:v,plte:F,frames:_}}function u(e,r,n,o,i,a,s){const c=Uint8Array,f=Uint32Array,l=new c(e[i-1]),u=new f(e[i-1]),h=i+1<e.length?new c(e[i+1]):null,A=new c(e[i]),p=new f(A.buffer);let g=r,v=n,m=-1,y=-1;for(let t=0;t<a.height;t++)for(let e=0;e<a.width;e++){const n=a.x+e,s=a.y+t,c=s*r+n,f=p[c];0==f||0==o[i-1].dispose&&u[c]==f&&(null==h||0!=h[4*c+3])||(n<g&&(g=n),n>m&&(m=n),s<v&&(v=s),s>y&&(y=s))}-1==m&&(g=v=m=y=0),s&&(1==(1&g)&&g--,1==(1&v)&&v--),a={x:g,y:v,width:m-g+1,height:y-v+1};const w=o[i];w.rect=a,w.blend=1,w.img=new Uint8Array(a.width*a.height*4),0==o[i-1].dispose?(t(l,r,n,w.img,a.width,a.height,-a.x,-a.y,0),d(A,r,n,w.img,a)):t(A,r,n,w.img,a.width,a.height,-a.x,-a.y,0)}function d(e,r,n,o,i){t(e,r,n,o,i.width,i.height,-i.x,-i.y,2)}function h(t,e,r,n,o,i,a){const s=[];let c,f=[0,1,2,3,4];-1!=i?f=[i]:(e*n>5e5||1==r)&&(f=[0]),a&&(c={level:0});const l=b;for(var u=0;u<f.length;u++){for(let i=0;i<e;i++)A(o,t,i,n,r,f[u]);s.push(l.deflate(o,c))}let d,h=1e9;for(u=0;u<s.length;u++)s[u].length<h&&(d=u,h=s[u].length);return s[d]}function A(t,e,n,o,i,a){const s=n*o;let c=s+n;if(t[c]=a,c++,0==a)if(o<500)for(var f=0;f<o;f++)t[c+f]=e[s+f];else t.set(new Uint8Array(e.buffer,s,o),c);else if(1==a){for(f=0;f<i;f++)t[c+f]=e[s+f];for(f=i;f<o;f++)t[c+f]=e[s+f]-e[s+f-i]+256&255}else if(0==n){for(f=0;f<i;f++)t[c+f]=e[s+f];if(2==a)for(f=i;f<o;f++)t[c+f]=e[s+f];if(3==a)for(f=i;f<o;f++)t[c+f]=e[s+f]-(e[s+f-i]>>1)+256&255;if(4==a)for(f=i;f<o;f++)t[c+f]=e[s+f]-r(e[s+f-i],0,0)+256&255}else{if(2==a)for(f=0;f<o;f++)t[c+f]=e[s+f]+256-e[s+f-o]&255;if(3==a){for(f=0;f<i;f++)t[c+f]=e[s+f]+256-(e[s+f-o]>>1)&255;for(f=i;f<o;f++)t[c+f]=e[s+f]+256-(e[s+f-o]+e[s+f-i]>>1)&255}if(4==a){for(f=0;f<i;f++)t[c+f]=e[s+f]+256-r(0,e[s+f-o],0)&255;for(f=i;f<o;f++)t[c+f]=e[s+f]+256-r(e[s+f-i],e[s+f-o],e[s+f-i-o])&255}}}function p(t,e){const r=new Uint8Array(t),n=r.slice(0),o=new Uint32Array(n.buffer),i=g(n,e),a=i[0],s=i[1],c=r.length,f=new Uint8Array(c>>2);let l;if(r.length<2e7)for(var u=0;u<c;u+=4)l=v(a,d=r[u]*(1/255),h=r[u+1]*(1/255),A=r[u+2]*(1/255),p=r[u+3]*(1/255)),f[u>>2]=l.ind,o[u>>2]=l.est.rgba;else for(u=0;u<c;u+=4){var d=r[u]*(1/255),h=r[u+1]*(1/255),A=r[u+2]*(1/255),p=r[u+3]*(1/255);for(l=a;l.left;)l=m(l.est,d,h,A,p)<=0?l.left:l.right;f[u>>2]=l.ind,o[u>>2]=l.est.rgba}return{abuf:n.buffer,inds:f,plte:s}}function g(t,e,r){null==r&&(r=1e-4);const n=new Uint32Array(t.buffer),o={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=_(t,o.i0,o.i1),o.est=U(o.bst);const i=[o];for(;i.length<e;){let e=0,o=0;for(var a=0;a<i.length;a++)i[a].est.L>e&&(e=i[a].est.L,o=a);if(e<r)break;const s=i[o],c=y(t,n,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=c||s.i1<=c){s.est.L=0;continue}const f={i0:s.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};f.bst=_(t,f.i0,f.i1),f.est=U(f.bst);const l={i0:c,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(l.bst={R:[],m:[],N:s.bst.N-f.bst.N},a=0;a<16;a++)l.bst.R[a]=s.bst.R[a]-f.bst.R[a];for(a=0;a<4;a++)l.bst.m[a]=s.bst.m[a]-f.bst.m[a];l.est=U(l.bst),s.left=f,s.right=l,i[o]=f,i.push(l)}for(i.sort(((t,e)=>e.bst.N-t.bst.N)),a=0;a<i.length;a++)i[a].ind=a;return[o,i]}function v(t,e,r,n,o){if(null==t.left)return t.tdst=function(t,e,r,n,o){const i=e-t[0],a=r-t[1],s=n-t[2],c=o-t[3];return i*i+a*a+s*s+c*c}(t.est.q,e,r,n,o),t;const i=m(t.est,e,r,n,o);let a=t.left,s=t.right;i>0&&(a=t.right,s=t.left);const c=v(a,e,r,n,o);if(c.tdst<=i*i)return c;const f=v(s,e,r,n,o);return f.tdst<c.tdst?f:c}function m(t,e,r,n,o){const{e:i}=t;return i[0]*e+i[1]*r+i[2]*n+i[3]*o-t.eMq}function y(t,e,r,n,o,i){for(n-=4;r<n;){for(;w(t,r,o)<=i;)r+=4;for(;w(t,n,o)>i;)n-=4;if(r>=n)break;const a=e[r>>2];e[r>>2]=e[n>>2],e[n>>2]=a,r+=4,n-=4}for(;w(t,r,o)>i;)r-=4;return r+4}function w(t,e,r){return t[e]*r[0]+t[e+1]*r[1]+t[e+2]*r[2]+t[e+3]*r[3]}function _(t,e,r){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0],i=r-e>>2;for(let a=e;a<r;a+=4){const e=t[a]*(1/255),r=t[a+1]*(1/255),i=t[a+2]*(1/255),s=t[a+3]*(1/255);o[0]+=e,o[1]+=r,o[2]+=i,o[3]+=s,n[0]+=e*e,n[1]+=e*r,n[2]+=e*i,n[3]+=e*s,n[5]+=r*r,n[6]+=r*i,n[7]+=r*s,n[10]+=i*i,n[11]+=i*s,n[15]+=s*s}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:o,N:i}}function U(t){const{R:e}=t,{m:r}=t,{N:n}=t,o=r[0],i=r[1],a=r[2],s=r[3],c=0==n?0:1/n,f=[e[0]-o*o*c,e[1]-o*i*c,e[2]-o*a*c,e[3]-o*s*c,e[4]-i*o*c,e[5]-i*i*c,e[6]-i*a*c,e[7]-i*s*c,e[8]-a*o*c,e[9]-a*i*c,e[10]-a*a*c,e[11]-a*s*c,e[12]-s*o*c,e[13]-s*i*c,e[14]-s*a*c,e[15]-s*s*c],l=f,u=F;let d=[Math.random(),Math.random(),Math.random(),Math.random()],h=0,A=0;if(0!=n)for(let g=0;g<16&&(d=u.multVec(l,d),A=Math.sqrt(u.dot(d,d)),d=u.sml(1/A,d),!(0!=g&&Math.abs(A-h)<1e-9));g++)h=A;const p=[o*c,i*c,a*c,s*c];return{Cov:f,q:p,e:d,L:h,eMq255:u.dot(u.sml(255,p),d),eMq:u.dot(d,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}}var F={multVec:(t,e)=>[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]],dot:(t,e)=>t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],sml:(t,e)=>[t*e[0],t*e[1],t*e[2],t*e[3]]};E.encode=function(t,e,r,n,o,i,a){null==n&&(n=0),null==a&&(a=!1);const s=l(t,e,r,n,[!1,!1,!1,0,a,!1]);return f(s,-1),c(s,e,r,o,i)},E.encodeLL=function(t,e,r,n,o,i,a,s){const l={ctype:0+(1==n?0:2)+(0==o?0:4),depth:i,frames:[]},u=(n+o)*i,d=u*e;for(let c=0;c<t.length;c++)l.frames.push({rect:{x:0,y:0,width:e,height:r},img:new Uint8Array(t[c]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(d/8)});return f(l,0,!0),c(l,e,r,a,s)},E.encode.compress=l,E.encode.dither=s,E.quantize=p,E.quantize.getKDtree=g,E.quantize.getNearest=v}();const _={toArrayBuffer(t,e){const r=t.width,n=t.height,o=r<<2,i=t.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(i.data.buffer),s=(32*r+31)/32<<2,c=s*n,f=122+c,l=new ArrayBuffer(f),u=new DataView(l),d=1<<20;let h,A,p,g,v=d,m=0,y=0,w=0;function b(t){u.setUint16(y,t,!0),y+=2}function E(t){u.setUint32(y,t,!0),y+=4}function U(t){y+=t}b(19778),E(f),U(4),E(122),E(108),E(r),E(-n>>>0),b(1),b(32),E(3),E(c),E(2835),E(2835),U(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function t(){for(;m<n&&v>0;){for(g=122+m*s,h=0;h<o;)v--,A=a[w++],p=A>>>24,u.setUint32(g+h,A<<8|p),h+=4;m++}w<a.length?(v=d,setTimeout(t,_._dly)):e(l)}()},toBlob(t,e){this.toArrayBuffer(t,(t=>{e(new Blob([t],{type:"image/bmp"}))}))},_dly:9};var U={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},F={[U.CHROME]:16384,[U.FIREFOX]:11180,[U.DESKTOP_SAFARI]:16384,[U.IE]:8192,[U.IOS]:4096,[U.ETC]:8192};const R="undefined"!=typeof window,I="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,C=R&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),B=(R||I)&&(C&&C.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),T=(R||I)&&(C&&C.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function M(t,e,r=Date.now()){return new Promise((n=>{const o=t.split(","),i=o[0].match(/:(.*?);/)[1],a=globalThis.atob(o[1]);let s=a.length;const c=new Uint8Array(s);for(;s--;)c[s]=a.charCodeAt(s);const f=new Blob([c],{type:i});f.name=e,f.lastModified=r,n(f)}))}function x(t){return new Promise(((e,r)=>{const n=new T;n.onload=()=>e(n.result),n.onerror=t=>r(t),n.readAsDataURL(t)}))}function S(t){return new Promise(((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=t=>r(t),n.src=t}))}function Q(){if(void 0!==Q.cachedResult)return Q.cachedResult;let t=U.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=U.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=U.IOS:/Safari/i.test(e)?t=U.DESKTOP_SAFARI:/Firefox/i.test(e)?t=U.FIREFOX:(/MSIE/i.test(e)||1==!!document.documentMode)&&(t=U.IE),Q.cachedResult=t,Q.cachedResult}function O(t,e){const r=Q(),n=F[r];let o=t,i=e,a=o*i;const s=o>i?i/o:o/i;for(;a>n*n;){const t=(n+o)/2,e=(n+i)/2;t<e?(i=e,o=e*s):(i=t*s,o=t),a=o*i}return{width:o,height:i}}function D(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),null===n)throw new Error("getContext of OffscreenCanvas returns null")}catch(t){r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function k(t,e){const{width:r,height:n}=O(t.width,t.height),[o,i]=D(r,n);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height)),i.drawImage(t,0,0,o.width,o.height),o}function P(){return void 0!==P.cachedResult||(P.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),P.cachedResult}function L(t,e={}){return new Promise((function(r,n){let o,i;var a=function(){try{return i=k(o,e.fileType||t.type),r([o,i])}catch(t){return n(t)}},s=function(e){try{var r=function(t){try{throw t}catch(t){return n(t)}};try{let e;return x(t).then((function(t){try{return e=t,S(e).then((function(t){try{return o=t,function(){try{return a()}catch(t){return n(t)}}()}catch(t){return r(t)}}),r)}catch(t){return r(t)}}),r)}catch(t){r(t)}}catch(t){return n(t)}};try{if(P()||[U.DESKTOP_SAFARI,U.MOBILE_SAFARI].includes(Q()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(t){try{return o=t,a()}catch(t){return s()}}),s)}catch(t){s()}}))}function H(t,e,r,n,o=1){return new Promise((function(i,a){let s;if("image/png"===e){let f,l,u;return f=t.getContext("2d"),({data:l}=f.getImageData(0,0,t.width,t.height)),u=E.encode([l.buffer],t.width,t.height,4096*o),s=new Blob([u],{type:e}),s.name=r,s.lastModified=n,c.call(this)}{if("image/bmp"===e)return new Promise((e=>_.toBlob(t,e))).then(function(t){try{return s=t,s.name=r,s.lastModified=n,d.call(this)}catch(t){return a(t)}}.bind(this),a);{if("function"==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:o}).then(function(t){try{return s=t,s.name=r,s.lastModified=n,h.call(this)}catch(t){return a(t)}}.bind(this),a);{let A;return A=t.toDataURL(e,o),M(A,r,n).then(function(t){try{return s=t,h.call(this)}catch(t){return a(t)}}.bind(this),a)}function h(){return d.call(this)}}function d(){return c.call(this)}}function c(){return i(s)}}))}function N(t){t.width=0,t.height=0}function z(){return new Promise((function(t,e){let r,n,o,i,a;return void 0!==z.cachedResult?t(z.cachedResult):(r="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",M("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(r){try{return n=r,L(n).then((function(r){try{return o=r[1],H(o,n.type,n.name,n.lastModified).then((function(r){try{return i=r,N(o),L(i).then((function(r){try{return a=r[0],z.cachedResult=1===a.width&&2===a.height,t(z.cachedResult)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e))}))}function W(t){return new Promise(((e,r)=>{const n=new T;n.onload=t=>{const r=new DataView(t.target.result);if(65496!=r.getUint16(0,!1))return e(-2);const n=r.byteLength;let o=2;for(;o<n;){if(r.getUint16(o+2,!1)<=8)return e(-1);const t=r.getUint16(o,!1);if(o+=2,65505==t){if(1165519206!=r.getUint32(o+=2,!1))return e(-1);const t=18761==r.getUint16(o+=6,!1);o+=r.getUint32(o+4,t);const n=r.getUint16(o,t);o+=2;for(let i=0;i<n;i++)if(274==r.getUint16(o+12*i,t))return e(r.getUint16(o+12*i+8,t))}else{if(65280!=(65280&t))break;o+=r.getUint16(o,!1)}}return e(-1)},n.onerror=t=>r(t),n.readAsArrayBuffer(t)}))}function j(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:o}=e;let i,a=t;return isFinite(o)&&(r>o||n>o)&&([a,i]=D(r,n),r>n?(a.width=o,a.height=n/r*o):(a.width=r/n*o,a.height=o),i.drawImage(t,0,0,a.width,a.height),N(t)),a}function V(t,e){const{width:r}=t,{height:n}=t,[o,i]=D(r,n);switch(e>4&&e<9?(o.width=n,o.height=r):(o.width=r,o.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(t,0,0,r,n),N(t),o}function q(t,e,r=0){return new Promise((function(n,o){let i,a,s,c,f,l,u,d,h,A,p,g,v,m,y,w,b,E,_,U;function F(t=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=t,e.onProgress(Math.min(i,100))}function R(t){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(t,i),100),e.onProgress(i)}return i=r,a=e.maxIteration||10,s=1024*e.maxSizeMB*1024,F(),L(t,e).then(function(r){try{return[,c]=r,F(),f=j(c,e),F(),new Promise((function(r,n){var o;if(!(o=e.exifOrientation))return W(t).then(function(t){try{return o=t,i.call(this)}catch(t){return n(t)}}.bind(this),n);function i(){return r(o)}return i.call(this)})).then(function(r){try{return l=r,F(),z().then(function(r){try{return u=r?f:V(f,l),F(),d=e.initialQuality||1,h=e.fileType||t.type,H(u,h,t.name,t.lastModified,d).then(function(r){try{{if(A=r,F(),p=A.size>s,g=A.size>t.size,!p&&!g)return R(100),n(A);var i;function I(){if(a--&&(y>s||y>v)){let e,r;return e=U?.95*_.width:_.width,r=U?.95*_.height:_.height,[b,E]=D(e,r),E.drawImage(_,0,0,e,r),d*="image/png"===h?.85:.95,H(b,h,t.name,t.lastModified,d).then((function(t){try{return w=t,N(_),_=b,y=w.size,R(Math.min(99,Math.floor((m-y)/(m-s)*100))),I}catch(t){return o(t)}}),o)}return[1]}return v=t.size,m=A.size,y=m,_=u,U=!e.alwaysKeepResolution&&p,(i=function(t){for(;t;){if(t.then)return void t.then(i,o);try{if(t.pop){if(t.length)return t.pop()?C.call(this):t;t=I}else t=t.call(this)}catch(t){return o(t)}}}.bind(this))(I);function C(){return N(_),N(b),N(f),N(u),N(c),R(100),n(w)}}}catch(l){return o(l)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),o)}))}const Y="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let G;function Z(t,e){return new Promise(((r,n)=>{G||(G=function(t){const e=[];return"function"==typeof t?e.push(`(${t})()`):e.push(t),URL.createObjectURL(new Blob(e))}(Y));const o=new Worker(G);o.addEventListener("message",(function(t){if(e.signal&&e.signal.aborted)o.terminate();else if(void 0===t.data.progress){if(t.data.error)return n(new Error(t.data.error)),void o.terminate();r(t.data.file),o.terminate()}else e.onProgress(t.data.progress)})),o.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",(()=>{n(e.signal.reason),o.terminate()})),o.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function K(t,e){return new Promise((function(r,n){let o,i,a,s,c,f;if(o={...e},a=0,({onProgress:s}=o),o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,c="boolean"!=typeof o.useWebWorker||o.useWebWorker,delete o.useWebWorker,o.onProgress=t=>{a=t,"function"==typeof s&&s(a)},!(t instanceof Blob||t instanceof B))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(f="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!c||"function"!=typeof Worker||f)return q(t,o).then(function(t){try{return i=t,d.call(this)}catch(t){return n(t)}}.bind(this),n);var l=function(){try{return d.call(this)}catch(t){return n(t)}}.bind(this),u=function(e){try{return q(t,o).then((function(t){try{return i=t,l()}catch(t){return n(t)}}),n)}catch(t){return n(t)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Z(t,o).then((function(t){try{return i=t,l()}catch(t){return u()}}),u)}catch(t){u()}function d(){try{i.name=t.name,i.lastModified=t.lastModified}catch(t){}try{o.preserveExif&&"image/jpeg"===t.type&&(!o.fileType||o.fileType&&o.fileType===t.type)&&(i=v(t,i))}catch(t){}return r(i)}}))}K.getDataUrlFromFile=x,K.getFilefromDataUrl=M,K.loadImage=S,K.drawImageInCanvas=k,K.drawFileInCanvas=L,K.canvasToFile=H,K.getExifOrientation=W,K.handleMaxWidthOrHeight=j,K.followExifOrientation=V,K.cleanupCanvasMemory=N,K.isAutoOrientationInBrowser=z,K.approximateBelowMaximumCanvasSizeOfBrowser=O,K.copyExifWithoutOrientation=v,K.getBrowserName=Q,K.version="2.0.2";const X=function(){const t=(0,A.iH)(),e=(0,A.iH)(),r=(0,A.qj)({show:!1,camera:null}),n=t=>{r.camera=t.data},o=()=>{},i=()=>{r.show=!1},a=t=>{t&&t.preventDefault(),r.show=!1,e.value.stop()},s=n=>{n&&n.preventDefault();const o=e.value,i=t.value;o.pause().then((()=>{const t=r.camera;t.blob().then((t=>K(t,{maxSizeMB:.2,maxWidthOrHeight:200,useWebWorker:!0}).then((e=>({compressedFile:e,blob:t}))))).then((({compressedFile:t,blob:e})=>(console.log(`file size : original / compressed / ratio : ${(e.size/1024/1024).toFixed(2)} MB / ${(t.size/1024/1024).toFixed(2)} MB / ${(100*(1-t.size/e.size)).toFixed(2)} % `),new Promise(((e,r)=>{try{const r=new FileReader,n=()=>{r.removeEventListener("load",n),e(r)};r.addEventListener("load",n),r.readAsDataURL(t)}catch(n){r(n)}}))))).then((t=>{i.src=t.result})).catch((t=>console.error(t))),o.stop()}))},c=t=>{t&&t.preventDefault(),r.show=!0,e.value.start()};return{refImg:t,refCamera:e,ui:r,emitedInit:n,emitedPause:o,emitedStop:i,doClickClose:a,doClickPause:s,doClickCamera:c}};var $=(0,n.aZ)({name:"p-input-form",components:{PCameraVue:p["default"]},setup:X}),J=r(89);const tt=(0,J.Z)($,[["render",h]]);var et=tt}}]);
//# sourceMappingURL=form.bcc8b57e.js.map