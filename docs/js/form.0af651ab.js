(self["webpackChunkinput_file_capture_demo"]=self["webpackChunkinput_file_capture_demo"]||[]).push([[680,85],{3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,r){"use strict";var n,i,o,a=r(3013),f=r(9781),s=r(7854),c=r(614),l=r(111),u=r(2597),h=r(648),d=r(6330),A=r(8880),p=r(8052),g=r(7045),v=r(7976),y=r(9518),w=r(7674),m=r(5112),b=r(9711),E=r(9909),U=E.enforce,F=E.get,B=s.Int8Array,_=B&&B.prototype,C=s.Uint8ClampedArray,I=C&&C.prototype,T=B&&y(B),Q=_&&y(_),x=Object.prototype,M=s.TypeError,R=m("toStringTag"),S=b("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",P=a&&!!w&&"Opera"!==h(s.opera),O=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},D=function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||u(H,e)||u(L,e)},z=function(t){var e=y(t);if(l(e)){var r=F(e);return r&&u(r,k)?r[k]:z(e)}},N=function(t){if(!l(t))return!1;var e=h(t);return u(H,e)||u(L,e)},W=function(t){if(N(t))return t;throw M("Target is not a typed array")},j=function(t){if(c(t)&&(!w||v(T,t)))return t;throw M(d(t)+" is not a typed array constructor")},V=function(t,e,r,n){if(f){if(r)for(var i in H){var o=s[i];if(o&&u(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(c){}}}Q[t]&&!r||p(Q,t,r?e:P&&_[t]||e,n)}},q=function(t,e,r){var n,i;if(f){if(w){if(r)for(n in H)if(i=s[n],i&&u(i,t))try{delete i[t]}catch(o){}if(T[t]&&!r)return;try{return p(T,t,r?e:P&&T[t]||e)}catch(o){}}for(n in H)i=s[n],!i||i[t]&&!r||p(i,t,e)}};for(n in H)i=s[n],o=i&&i.prototype,o?U(o)[k]=i:P=!1;for(n in L)i=s[n],o=i&&i.prototype,o&&(U(o)[k]=i);if((!P||!c(T)||T===Function.prototype)&&(T=function(){throw M("Incorrect invocation")},P))for(n in H)s[n]&&w(s[n],T);if((!P||!Q||Q===x)&&(Q=T.prototype,P))for(n in H)s[n]&&w(s[n].prototype,Q);if(P&&y(I)!==Q&&w(I,Q),f&&!u(Q,R))for(n in O=!0,g(Q,R,{configurable:!0,get:function(){return l(this)?this[S]:void 0}}),H)s[n]&&A(s[n],S,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:O&&S,aTypedArray:W,aTypedArrayConstructor:j,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:z,isView:D,isTypedArray:N,TypedArray:T,TypedArrayPrototype:Q}},7745:function(t,e,r){var n=r(6244);t.exports=function(t,e){var r=0,i=n(e),o=new t(i);while(i>r)o[r]=e[r++];return o}},9671:function(t,e,r){var n=r(9974),i=r(8361),o=r(7908),a=r(6244),f=function(t){var e=1==t;return function(r,f,s){var c,l,u=o(r),h=i(u),d=n(f,s),A=a(h);while(A-- >0)if(c=h[A],l=d(c,A,u),l)switch(t){case 0:return c;case 1:return A}return e?-1:void 0}};t.exports={findLast:f(0),findLastIndex:f(1)}},1843:function(t,e,r){var n=r(6244);t.exports=function(t,e){for(var r=n(t),i=new e(r),o=0;o<r;o++)i[o]=t[r-o-1];return i}},1572:function(t,e,r){var n=r(6244),i=r(9303),o=RangeError;t.exports=function(t,e,r,a){var f=n(t),s=i(r),c=s<0?f+s:s;if(c>=f||c<0)throw o("Incorrect index");for(var l=new e(f),u=0;u<f;u++)l[u]=u===c?a:t[u];return l}},8544:function(t,e,r){var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7045:function(t,e,r){var n=r(6339),i=r(3070);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},4067:function(t,e,r){var n=r(648);t.exports=function(t){var e=n(t);return"BigInt64Array"==e||"BigUint64Array"==e}},9518:function(t,e,r){var n=r(2597),i=r(614),o=r(7908),a=r(6200),f=r(8544),s=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=f?c.getPrototypeOf:function(t){var e=o(t);if(n(e,s))return e[s];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},4599:function(t,e,r){var n=r(7593),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},2452:function(t,e,r){var n=r(3002),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw i("Wrong offset");return r}},3002:function(t,e,r){var n=r(9303),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw i("The argument can't be less than 0");return e}},8675:function(t,e,r){"use strict";var n=r(260),i=r(6244),o=r(9303),a=n.aTypedArray,f=n.exportTypedArrayMethod;f("at",(function(t){var e=a(this),r=i(e),n=o(t),f=n>=0?n:r+n;return f<0||f>=r?void 0:e[f]}))},4590:function(t,e,r){"use strict";var n=r(260),i=r(9671).findLastIndex,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLastIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:function(t,e,r){"use strict";var n=r(260),i=r(9671).findLast,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("findLast",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3462:function(t,e,r){"use strict";var n=r(7854),i=r(6916),o=r(260),a=r(6244),f=r(2452),s=r(7908),c=r(7293),l=n.RangeError,u=n.Int8Array,h=u&&u.prototype,d=h&&h.set,A=o.aTypedArray,p=o.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]})),v=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));p("set",(function(t){A(this);var e=f(arguments.length>1?arguments[1]:void 0,1),r=s(t);if(g)return i(d,this,r,e);var n=this.length,o=a(r),c=0;if(o+e>n)throw l("Wrong length");while(c<o)this[e+c]=r[c++]}),!g||v)},1439:function(t,e,r){"use strict";var n=r(1843),i=r(260),o=i.aTypedArray,a=i.exportTypedArrayMethod,f=i.getTypedArrayConstructor;a("toReversed",(function(){return n(o(this),f(this))}))},7585:function(t,e,r){"use strict";var n=r(260),i=r(1702),o=r(9662),a=r(7745),f=n.aTypedArray,s=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&o(t);var e=f(this),r=a(s(e),e);return l(r,t)}))},5315:function(t,e,r){"use strict";var n=r(1572),i=r(260),o=r(4067),a=r(9303),f=r(4599),s=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=s(this),i=a(t),l=o(r)?f(e):+e;return n(r,c(r),i,l)}}["with"],!u)},2062:function(t,e,r){"use strict";var n=r(9781),i=r(1702),o=r(7045),a=URLSearchParams.prototype,f=i(a.forEach);n&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return f(this,(function(){t++})),t},configurable:!0,enumerable:!0})},7778:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return et}});var n=r(3396),i=r(9242);const o={class:"container-fluid"},a={ref:"refImg"},f=(0,n._)("i",{class:"bi bi-arrow-left"},null,-1),s=[f],c=(0,n._)("span",null,null,-1),l=(0,n._)("i",{class:"bi bi-stop-circle fs-1"},null,-1),u=[l],h=(0,n._)("span",null,null,-1);function d(t,e,r,f,l,d){const A=(0,n.up)("PCameraVue");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("form",null,[(0,n._)("div",null,[(0,n._)("div",null,[(0,n._)("button",{class:"btn btn-secondary",onClick:e[0]||(e[0]=(...e)=>t.doClickCamera&&t.doClickCamera(...e))}," Camera ")]),(0,n._)("div",null,[(0,n._)("img",a,null,512)])]),(0,n.wy)((0,n.Wm)(A,{ref:"refCamera",onInit:t.emitedInit,onPause:t.emitedPause,onStop:t.emitedStop},{"close-button":(0,n.w5)((()=>[(0,n._)("button",{class:"nav-link",onClick:e[1]||(e[1]=(...e)=>t.doClickClose&&t.doClickClose(...e))},s)])),"start-button":(0,n.w5)((()=>[c])),"pause-button":(0,n.w5)((()=>[(0,n._)("button",{class:"btn btn-danger btn-lg",onClick:e[2]||(e[2]=(...e)=>t.doClickPause&&t.doClickPause(...e))},u)])),"stop-button":(0,n.w5)((()=>[h])),_:1},8,["onInit","onPause","onStop"]),[[i.F8,t.ui.show]])])])}var A=r(4870),p=r(7935);r(8675),r(3408),r(4590),r(3462),r(1439),r(7585),r(5315),r(7658),r(2801),r(1703),r(2062);function g(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(r){if("default"!==r&&!(r in t)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}))})),Object.freeze(t)}function v(t,e){return new Promise((function(r,n){let i;return y(t).then((function(t){try{return i=t,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(t){return n(t)}}),n)}))}const y=t=>new Promise(((e,r)=>{const n=new FileReader;n.addEventListener("load",(({target:{result:t}})=>{const n=new DataView(t);let i=0;if(65496!==n.getUint16(i))return r("not a valid JPEG");for(i+=2;;){const o=n.getUint16(i);if(65498===o)break;const a=n.getUint16(i+2);if(65505===o&&1165519206===n.getUint32(i+4)){const o=i+10;let f;switch(n.getUint16(o)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(42!==n.getUint16(o+2,f))return r("TIFF header contains invalid version");const s=n.getUint32(o+4,f),c=o+s+2+12*n.getUint16(o+s,f);for(let t=o+s+2;t<c;t+=12)if(274==n.getUint16(t,f)){if(3!==n.getUint16(t+2,f))return r("Orientation data type is invalid");if(1!==n.getUint32(t+4,f))return r("Orientation data count is invalid");n.setUint16(t+8,1,f);break}return e(t.slice(i,i+2+a))}i+=2+a}return e(new Blob)})),n.readAsArrayBuffer(t)}));var w={},m={get exports(){return w},set exports(t){w=t}};!function(t){var e,r,n={};m.exports=n,n.parse=function(t,e){for(var r=n.bin.readUshort,i=n.bin.readUint,o=0,a={},f=new Uint8Array(t),s=f.length-4;101010256!=i(f,s);)s--;o=s,o+=4;var c=r(f,o+=4);r(f,o+=2);var l=i(f,o+=2),u=i(f,o+=4);o+=4,o=u;for(var h=0;h<c;h++){i(f,o),o+=4,o+=4,o+=4,i(f,o+=4),l=i(f,o+=4);var d=i(f,o+=4),A=r(f,o+=4),p=r(f,o+2),g=r(f,o+4);o+=6;var v=i(f,o+=8);o+=4,o+=A+p+g,n._readLocal(f,v,a,l,d,e)}return a},n._readLocal=function(t,e,r,i,o,a){var f=n.bin.readUshort,s=n.bin.readUint;s(t,e),f(t,e+=4),f(t,e+=2);var c=f(t,e+=2);s(t,e+=2),s(t,e+=4),e+=4;var l=f(t,e+=8),u=f(t,e+=2);e+=2;var h=n.bin.readUTF8(t,e,l);if(e+=l,e+=u,a)r[h]={size:o,csize:i};else{var d=new Uint8Array(t.buffer,e);if(0==c)r[h]=new Uint8Array(d.buffer.slice(e,e+i));else{if(8!=c)throw"unknown compression method: "+c;var A=new Uint8Array(o);n.inflateRaw(d,A),r[h]=A}}},n.inflateRaw=function(t,e){return n.F.inflate(t,e)},n.inflate=function(t,e){return t[0],t[1],n.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),e)},n.deflate=function(t,e){null==e&&(e={level:6});var r=0,i=new Uint8Array(50+Math.floor(1.1*t.length));i[r]=120,i[r+1]=156,r+=2,r=n.F.deflateRaw(t,i,r,e.level);var o=n.adler(t,0,t.length);return i[r+0]=o>>>24&255,i[r+1]=o>>>16&255,i[r+2]=o>>>8&255,i[r+3]=o>>>0&255,new Uint8Array(i.buffer,0,r+4)},n.deflateRaw=function(t,e){null==e&&(e={level:6});var r=new Uint8Array(50+Math.floor(1.1*t.length)),i=n.F.deflateRaw(t,r,i,e.level);return new Uint8Array(r.buffer,0,i)},n.encode=function(t,e){null==e&&(e=!1);var r=0,i=n.bin.writeUint,o=n.bin.writeUshort,a={};for(var f in t){var s=!n._noNeed(f)&&!e,c=t[f],l=n.crc.crc(c,0,c.length);a[f]={cpr:s,usize:c.length,crc:l,file:s?n.deflateRaw(c):c}}for(var f in a)r+=a[f].file.length+30+46+2*n.bin.sizeUTF8(f);r+=22;var u=new Uint8Array(r),h=0,d=[];for(var f in a){var A=a[f];d.push(h),h=n._writeHeader(u,h,f,A,0)}var p=0,g=h;for(var f in a)A=a[f],d.push(h),h=n._writeHeader(u,h,f,A,1,d[p++]);var v=h-g;return i(u,h,101010256),h+=4,o(u,h+=4,p),o(u,h+=2,p),i(u,h+=2,v),i(u,h+=4,g),h+=4,h+=2,u.buffer},n._noNeed=function(t){var e=t.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(e)},n._writeHeader=function(t,e,r,i,o,a){var f=n.bin.writeUint,s=n.bin.writeUshort,c=i.file;return f(t,e,0==o?67324752:33639248),e+=4,1==o&&(e+=2),s(t,e,20),s(t,e+=2,0),s(t,e+=2,i.cpr?8:0),f(t,e+=2,0),f(t,e+=4,i.crc),f(t,e+=4,c.length),f(t,e+=4,i.usize),s(t,e+=4,n.bin.sizeUTF8(r)),s(t,e+=2,0),e+=2,1==o&&(e+=2,e+=2,f(t,e+=6,a),e+=4),e+=n.bin.writeUTF8(t,e,r),0==o&&(t.set(c,e),e+=c.length),e},n.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var r=e,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}return t}(),update:function(t,e,r,i){for(var o=0;o<i;o++)t=n.crc.table[255&(t^e[r+o])]^t>>>8;return t},crc:function(t,e,r){return 4294967295^n.crc.update(4294967295,t,e,r)}},n.adler=function(t,e,r){for(var n=1,i=0,o=e,a=e+r;o<a;){for(var f=Math.min(o+5552,a);o<f;)i+=n+=t[o++];n%=65521,i%=65521}return i<<16|n},n.bin={readUshort:function(t,e){return t[e]|t[e+1]<<8},writeUshort:function(t,e,r){t[e]=255&r,t[e+1]=r>>8&255},readUint:function(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])},writeUint:function(t,e,r){t[e]=255&r,t[e+1]=r>>8&255,t[e+2]=r>>16&255,t[e+3]=r>>24&255},readASCII:function(t,e,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(t[e+i]);return n},writeASCII:function(t,e,r){for(var n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,r){for(var i,o="",a=0;a<r;a++)o+="%"+n.bin.pad(t[e+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return n.bin.readASCII(t,e,r)}return i},writeUTF8:function(t,e,r){for(var n=r.length,i=0,o=0;o<n;o++){var a=r.charCodeAt(o);if(0==(4294967168&a))t[e+i]=a,i++;else if(0==(4294965248&a))t[e+i]=192|a>>6,t[e+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))t[e+i]=224|a>>12,t[e+i+1]=128|a>>6&63,t[e+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";t[e+i]=240|a>>18,t[e+i+1]=128|a>>12&63,t[e+i+2]=128|a>>6&63,t[e+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(t){for(var e=t.length,r=0,n=0;n<e;n++){var i=t.charCodeAt(n);if(0==(4294967168&i))r++;else if(0==(4294965248&i))r+=2;else if(0==(4294901760&i))r+=3;else{if(0!=(4292870144&i))throw"e";r+=4}}return r}},n.F={},n.F.deflateRaw=function(t,e,r,i){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=n.F.U,f=n.F._goodIndex;n.F._hash;var s=n.F._putsE,c=0,l=r<<3,u=0,h=t.length;if(0==i){for(;c<h;)s(e,l,c+(F=Math.min(65535,h-c))==h?1:0),l=n.F._copyExact(t,c,F,e,l+8),c+=F;return l>>>3}var d=a.lits,A=a.strt,p=a.prev,g=0,v=0,y=0,w=0,m=0,b=0;for(h>2&&(A[b=n.F._hash(t,0)]=0),c=0;c<h;c++){if(m=b,c+1<h-2){b=n.F._hash(t,c+1);var E=c+1&32767;p[E]=A[b],A[b]=E}if(u<=c){(g>14e3||v>26697)&&h-c>100&&(u<c&&(d[g]=c-u,g+=2,u=c),l=n.F._writeBlock(c==h-1||u==h?1:0,d,g,w,t,y,c-y,e,l),g=v=w=0,y=c);var U=0;c<h-2&&(U=n.F._bestMatch(t,c,p,m,Math.min(o[2],h-c),o[3]));var F=U>>>16,B=65535&U;if(0!=U){B=65535&U;var _=f(F=U>>>16,a.of0);a.lhst[257+_]++;var C=f(B,a.df0);a.dhst[C]++,w+=a.exb[_]+a.dxb[C],d[g]=F<<23|c-u,d[g+1]=B<<16|_<<8|C,g+=2,u=c+F}else a.lhst[t[c]]++;v++}}for(y==c&&0!=t.length||(u<c&&(d[g]=c-u,g+=2,u=c),l=n.F._writeBlock(1,d,g,w,t,y,c-y,e,l),g=0,v=0,g=v=w=0,y=c);0!=(7&l);)l++;return l>>>3},n.F._bestMatch=function(t,e,r,i,o,a){var f=32767&e,s=r[f],c=f-s+32768&32767;if(s==f||i!=n.F._hash(t,e-c))return 0;for(var l=0,u=0,h=Math.min(32767,e);c<=h&&0!=--a&&s!=f;){if(0==l||t[e+l]==t[e+l-c]){var d=n.F._howLong(t,e,c);if(d>l){if(u=c,(l=d)>=o)break;c+2<d&&(d=c+2);for(var A=0,p=0;p<d-2;p++){var g=e-c+p+32768&32767,v=g-r[g]+32768&32767;v>A&&(A=v,s=g)}}}c+=(f=s)-(s=r[f])+32768&32767}return l<<16|u},n.F._howLong=function(t,e,r){if(t[e]!=t[e-r]||t[e+1]!=t[e+1-r]||t[e+2]!=t[e+2-r])return 0;var n=e,i=Math.min(t.length,e+258);for(e+=3;e<i&&t[e]==t[e-r];)e++;return e-n},n.F._hash=function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(t,e,r,i,o,a,f,s,c){var l,u,h,d,A,p,g,v,y,w=n.F.U,m=n.F._putsF,b=n.F._putsE;w.lhst[256]++,u=(l=n.F.getTrees())[0],h=l[1],d=l[2],A=l[3],p=l[4],g=l[5],v=l[6],y=l[7];var E=32+(0==(c+3&7)?0:8-(c+3&7))+(f<<3),U=i+n.F.contSize(w.fltree,w.lhst)+n.F.contSize(w.fdtree,w.dhst),F=i+n.F.contSize(w.ltree,w.lhst)+n.F.contSize(w.dtree,w.dhst);F+=14+3*g+n.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var B=0;B<286;B++)w.lhst[B]=0;for(B=0;B<30;B++)w.dhst[B]=0;for(B=0;B<19;B++)w.ihst[B]=0;var _=E<U&&E<F?0:U<F?1:2;if(m(s,c,t),m(s,c+1,_),c+=3,0==_){for(;0!=(7&c);)c++;c=n.F._copyExact(o,a,f,s,c)}else{var C,I;if(1==_&&(C=w.fltree,I=w.fdtree),2==_){n.F.makeCodes(w.ltree,u),n.F.revCodes(w.ltree,u),n.F.makeCodes(w.dtree,h),n.F.revCodes(w.dtree,h),n.F.makeCodes(w.itree,d),n.F.revCodes(w.itree,d),C=w.ltree,I=w.dtree,b(s,c,A-257),b(s,c+=5,p-1),b(s,c+=5,g-4),c+=4;for(var T=0;T<g;T++)b(s,c+3*T,w.itree[1+(w.ordr[T]<<1)]);c+=3*g,c=n.F._codeTiny(v,w.itree,s,c),c=n.F._codeTiny(y,w.itree,s,c)}for(var Q=a,x=0;x<r;x+=2){for(var M=e[x],R=M>>>23,S=Q+(8388607&M);Q<S;)c=n.F._writeLit(o[Q++],C,s,c);if(0!=R){var k=e[x+1],P=k>>16,O=k>>8&255,H=255&k;b(s,c=n.F._writeLit(257+O,C,s,c),R-w.of0[O]),c+=w.exb[O],m(s,c=n.F._writeLit(H,I,s,c),P-w.df0[H]),c+=w.dxb[H],Q+=R}}c=n.F._writeLit(256,C,s,c)}return c},n.F._copyExact=function(t,e,r,n,i){var o=i>>>3;return n[o]=r,n[o+1]=r>>>8,n[o+2]=255-n[o],n[o+3]=255-n[o+1],o+=4,n.set(new Uint8Array(t.buffer,e,r),o),i+(r+4<<3)},n.F.getTrees=function(){for(var t=n.F.U,e=n.F._hufTree(t.lhst,t.ltree,15),r=n.F._hufTree(t.dhst,t.dtree,15),i=[],o=n.F._lenCodes(t.ltree,i),a=[],f=n.F._lenCodes(t.dtree,a),s=0;s<i.length;s+=2)t.ihst[i[s]]++;for(s=0;s<a.length;s+=2)t.ihst[a[s]]++;for(var c=n.F._hufTree(t.ihst,t.itree,7),l=19;l>4&&0==t.itree[1+(t.ordr[l-1]<<1)];)l--;return[e,r,c,o,f,l,i,a]},n.F.getSecond=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(t[r+1]);return e},n.F.nonZero=function(t){for(var e="",r=0;r<t.length;r+=2)0!=t[r+1]&&(e+=(r>>1)+",");return e},n.F.contSize=function(t,e){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[1+(n<<1)];return r},n.F._codeTiny=function(t,e,r,i){for(var o=0;o<t.length;o+=2){var a=t[o],f=t[o+1];i=n.F._writeLit(a,e,r,i);var s=16==a?2:17==a?3:7;a>15&&(n.F._putsE(r,i,f,s),i+=s)}return i},n.F._lenCodes=function(t,e){for(var r=t.length;2!=r&&0==t[r-1];)r-=2;for(var n=0;n<r;n+=2){var i=t[n+1],o=n+3<r?t[n+3]:-1,a=n+5<r?t[n+5]:-1,f=0==n?-1:t[n-1];if(0==i&&o==i&&a==i){for(var s=n+5;s+2<r&&t[s+2]==i;)s+=2;(c=Math.min(s+1-n>>>1,138))<11?e.push(17,c-3):e.push(18,c-11),n+=2*c-2}else if(i==f&&o==i&&a==i){for(s=n+5;s+2<r&&t[s+2]==i;)s+=2;var c=Math.min(s+1-n>>>1,6);e.push(16,c-3),n+=2*c-2}else e.push(i,0)}return r>>>1},n.F._hufTree=function(t,e,r){var i=[],o=t.length,a=e.length,f=0;for(f=0;f<a;f+=2)e[f]=0,e[f+1]=0;for(f=0;f<o;f++)0!=t[f]&&i.push({lit:f,f:t[f]});var s=i.length,c=i.slice(0);if(0==s)return 0;if(1==s){var l=i[0].lit;return c=0==l?1:0,e[1+(l<<1)]=1,e[1+(c<<1)]=1,1}i.sort((function(t,e){return t.f-e.f}));var u=i[0],h=i[1],d=0,A=1,p=2;for(i[0]={lit:-1,f:u.f+h.f,l:u,r:h,d:0};A!=s-1;)u=d!=A&&(p==s||i[d].f<i[p].f)?i[d++]:i[p++],h=d!=A&&(p==s||i[d].f<i[p].f)?i[d++]:i[p++],i[A++]={lit:-1,f:u.f+h.f,l:u,r:h};var g=n.F.setDepth(i[A-1],0);for(g>r&&(n.F.restrictDepth(c,r,g),g=r),f=0;f<s;f++)e[1+(c[f].lit<<1)]=c[f].d;return g},n.F.setDepth=function(t,e){return-1!=t.lit?(t.d=e,e):Math.max(n.F.setDepth(t.l,e+1),n.F.setDepth(t.r,e+1))},n.F.restrictDepth=function(t,e,r){var n=0,i=1<<r-e,o=0;for(t.sort((function(t,e){return e.d==t.d?t.f-e.f:e.d-t.d})),n=0;n<t.length&&t[n].d>e;n++){var a=t[n].d;t[n].d=e,o+=i-(1<<r-a)}for(o>>>=r-e;o>0;)(a=t[n].d)<e?(t[n].d++,o-=1<<e-a-1):n++;for(;n>=0;n--)t[n].d==e&&o<0&&(t[n].d--,o++);0!=o&&console.log("debt left")},n.F._goodIndex=function(t,e){var r=0;return e[16|r]<=t&&(r|=16),e[8|r]<=t&&(r|=8),e[4|r]<=t&&(r|=4),e[2|r]<=t&&(r|=2),e[1|r]<=t&&(r|=1),r},n.F._writeLit=function(t,e,r,i){return n.F._putsF(r,i,e[t<<1]),i+e[1+(t<<1)]},n.F.inflate=function(t,e){var r=Uint8Array;if(3==t[0]&&0==t[1])return e||new r(0);var i=n.F,o=i._bitsF,a=i._bitsE,f=i._decodeTiny,s=i.makeCodes,c=i.codes2map,l=i._get17,u=i.U,h=null==e;h&&(e=new r(t.length>>>2<<3));for(var d,A,p=0,g=0,v=0,y=0,w=0,m=0,b=0,E=0,U=0;0==p;)if(p=o(t,U,1),g=o(t,U+1,2),U+=3,0!=g){if(h&&(e=n.F._check(e,E+(1<<17))),1==g&&(d=u.flmap,A=u.fdmap,m=511,b=31),2==g){v=a(t,U,5)+257,y=a(t,U+5,5)+1,w=a(t,U+10,4)+4,U+=14;for(var F=0;F<38;F+=2)u.itree[F]=0,u.itree[F+1]=0;var B=1;for(F=0;F<w;F++){var _=a(t,U+3*F,3);u.itree[1+(u.ordr[F]<<1)]=_,_>B&&(B=_)}U+=3*w,s(u.itree,B),c(u.itree,B,u.imap),d=u.lmap,A=u.dmap,U=f(u.imap,(1<<B)-1,v+y,t,U,u.ttree);var C=i._copyOut(u.ttree,0,v,u.ltree);m=(1<<C)-1;var I=i._copyOut(u.ttree,v,y,u.dtree);b=(1<<I)-1,s(u.ltree,C),c(u.ltree,C,d),s(u.dtree,I),c(u.dtree,I,A)}for(;;){var T=d[l(t,U)&m];U+=15&T;var Q=T>>>4;if(Q>>>8==0)e[E++]=Q;else{if(256==Q)break;var x=E+Q-254;if(Q>264){var M=u.ldef[Q-257];x=E+(M>>>3)+a(t,U,7&M),U+=7&M}var R=A[l(t,U)&b];U+=15&R;var S=R>>>4,k=u.ddef[S],P=(k>>>4)+o(t,U,15&k);for(U+=15&k,h&&(e=n.F._check(e,E+(1<<17)));E<x;)e[E]=e[E++-P],e[E]=e[E++-P],e[E]=e[E++-P],e[E]=e[E++-P];E=x}}}else{0!=(7&U)&&(U+=8-(7&U));var O=4+(U>>>3),H=t[O-4]|t[O-3]<<8;h&&(e=n.F._check(e,E+H)),e.set(new r(t.buffer,t.byteOffset+O,H),E),U=O+H<<3,E+=H}return e.length==E?e:e.slice(0,E)},n.F._check=function(t,e){var r=t.length;if(e<=r)return t;var n=new Uint8Array(Math.max(r<<1,e));return n.set(t,0),n},n.F._decodeTiny=function(t,e,r,i,o,a){for(var f=n.F._bitsE,s=n.F._get17,c=0;c<r;){var l=t[s(i,o)&e];o+=15&l;var u=l>>>4;if(u<=15)a[c]=u,c++;else{var h=0,d=0;16==u?(d=3+f(i,o,2),o+=2,h=a[c-1]):17==u?(d=3+f(i,o,3),o+=3):18==u&&(d=11+f(i,o,7),o+=7);for(var A=c+d;c<A;)a[c]=h,c++}}return o},n.F._copyOut=function(t,e,r,n){for(var i=0,o=0,a=n.length>>>1;o<r;){var f=t[o+e];n[o<<1]=0,n[1+(o<<1)]=f,f>i&&(i=f),o++}for(;o<a;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return i},n.F.makeCodes=function(t,e){for(var r,i,o,a,f=n.F.U,s=t.length,c=f.bl_count,l=0;l<=e;l++)c[l]=0;for(l=1;l<s;l+=2)c[t[l]]++;var u=f.next_code;for(r=0,c[0]=0,i=1;i<=e;i++)r=r+c[i-1]<<1,u[i]=r;for(o=0;o<s;o+=2)0!=(a=t[o+1])&&(t[o]=u[a],u[a]++)},n.F.codes2map=function(t,e,r){for(var i=t.length,o=n.F.U.rev15,a=0;a<i;a+=2)if(0!=t[a+1])for(var f=a>>1,s=t[a+1],c=f<<4|s,l=e-s,u=t[a]<<l,h=u+(1<<l);u!=h;)r[o[u]>>>15-e]=c,u++},n.F.revCodes=function(t,e){for(var r=n.F.U.rev15,i=15-e,o=0;o<t.length;o+=2){var a=t[o]<<e-t[o+1];t[o]=r[a]>>>i}},n.F._putsE=function(t,e,r){r<<=7&e;var n=e>>>3;t[n]|=r,t[n+1]|=r>>>8},n.F._putsF=function(t,e,r){r<<=7&e;var n=e>>>3;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},n.F._bitsE=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},n.F._bitsF=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},n.F._get17=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},n.F._get25=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var t=n.F.U,e=0;e<32768;e++){var r=e;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[e]=(r>>>16|r<<16)>>>17}function i(t,e,r){for(;0!=e--;)t.push(0,r)}for(e=0;e<32;e++)t.ldef[e]=t.of0[e]<<3|t.exb[e],t.ddef[e]=t.df0[e]<<4|t.dxb[e];i(t.fltree,144,8),i(t.fltree,112,9),i(t.fltree,24,7),i(t.fltree,8,8),n.F.makeCodes(t.fltree,9),n.F.codes2map(t.fltree,9,t.flmap),n.F.revCodes(t.fltree,9),i(t.fdtree,32,5),n.F.makeCodes(t.fdtree,5),n.F.codes2map(t.fdtree,5,t.fdmap),n.F.revCodes(t.fdtree,5),i(t.itree,19,0),i(t.ltree,286,0),i(t.dtree,30,0),i(t.ttree,320,0)}()}();var b=g({__proto__:null,default:w},[w]);const E=function(){var t={nextZero(t,e){for(;0!=t[e];)e++;return e},readUshort:(t,e)=>t[e]<<8|t[e+1],writeUshort(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},readUint:(t,e)=>16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3]),writeUint(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},readASCII(t,e,r){let n="";for(let i=0;i<r;i++)n+=String.fromCharCode(t[e+i]);return n},writeASCII(t,e,r){for(let n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},readBytes(t,e,r){const n=[];for(let i=0;i<r;i++)n.push(t[e+i]);return n},pad:t=>t.length<2?`0${t}`:t,readUTF8(e,r,n){let i,o="";for(let a=0;a<n;a++)o+=`%${t.pad(e[r+a].toString(16))}`;try{i=decodeURIComponent(o)}catch(i){return t.readASCII(e,r,n)}return i}};function e(e,r,n,i){const a=r*n,f=o(i),s=Math.ceil(r*f/8),c=new Uint8Array(4*a),l=new Uint32Array(c.buffer),{ctype:u}=i,{depth:h}=i,d=t.readUshort;if(6==u){const t=a<<2;if(8==h)for(var A=0;A<t;A+=4)c[A]=e[A],c[A+1]=e[A+1],c[A+2]=e[A+2],c[A+3]=e[A+3];if(16==h)for(A=0;A<t;A++)c[A]=e[A<<1]}else if(2==u){const t=i.tabs.tRNS;if(null==t){if(8==h)for(A=0;A<a;A++){var p=3*A;l[A]=255<<24|e[p+2]<<16|e[p+1]<<8|e[p]}if(16==h)for(A=0;A<a;A++)p=6*A,l[A]=255<<24|e[p+4]<<16|e[p+2]<<8|e[p]}else{var g=t[0];const r=t[1],n=t[2];if(8==h)for(A=0;A<a;A++){var v=A<<2;p=3*A,l[A]=255<<24|e[p+2]<<16|e[p+1]<<8|e[p],e[p]==g&&e[p+1]==r&&e[p+2]==n&&(c[v+3]=0)}if(16==h)for(A=0;A<a;A++)v=A<<2,p=6*A,l[A]=255<<24|e[p+4]<<16|e[p+2]<<8|e[p],d(e,p)==g&&d(e,p+2)==r&&d(e,p+4)==n&&(c[v+3]=0)}}else if(3==u){const t=i.tabs.PLTE,o=i.tabs.tRNS,f=o?o.length:0;if(1==h)for(var y=0;y<n;y++){var w=y*s,m=y*r;for(A=0;A<r;A++){v=m+A<<2;var b=3*(E=e[w+(A>>3)]>>7-((7&A)<<0)&1);c[v]=t[b],c[v+1]=t[b+1],c[v+2]=t[b+2],c[v+3]=E<f?o[E]:255}}if(2==h)for(y=0;y<n;y++)for(w=y*s,m=y*r,A=0;A<r;A++)v=m+A<<2,b=3*(E=e[w+(A>>2)]>>6-((3&A)<<1)&3),c[v]=t[b],c[v+1]=t[b+1],c[v+2]=t[b+2],c[v+3]=E<f?o[E]:255;if(4==h)for(y=0;y<n;y++)for(w=y*s,m=y*r,A=0;A<r;A++)v=m+A<<2,b=3*(E=e[w+(A>>1)]>>4-((1&A)<<2)&15),c[v]=t[b],c[v+1]=t[b+1],c[v+2]=t[b+2],c[v+3]=E<f?o[E]:255;if(8==h)for(A=0;A<a;A++){var E;v=A<<2,b=3*(E=e[A]),c[v]=t[b],c[v+1]=t[b+1],c[v+2]=t[b+2],c[v+3]=E<f?o[E]:255}}else if(4==u){if(8==h)for(A=0;A<a;A++){v=A<<2;var U=e[F=A<<1];c[v]=U,c[v+1]=U,c[v+2]=U,c[v+3]=e[F+1]}if(16==h)for(A=0;A<a;A++){var F;v=A<<2,U=e[F=A<<2],c[v]=U,c[v+1]=U,c[v+2]=U,c[v+3]=e[F+2]}}else if(0==u)for(g=i.tabs.tRNS?i.tabs.tRNS:-1,y=0;y<n;y++){const t=y*s,n=y*r;if(1==h)for(var B=0;B<r;B++){var _=(U=255*(e[t+(B>>>3)]>>>7-(7&B)&1))==255*g?0:255;l[n+B]=_<<24|U<<16|U<<8|U}else if(2==h)for(B=0;B<r;B++)_=(U=85*(e[t+(B>>>2)]>>>6-((3&B)<<1)&3))==85*g?0:255,l[n+B]=_<<24|U<<16|U<<8|U;else if(4==h)for(B=0;B<r;B++)_=(U=17*(e[t+(B>>>1)]>>>4-((1&B)<<2)&15))==17*g?0:255,l[n+B]=_<<24|U<<16|U<<8|U;else if(8==h)for(B=0;B<r;B++)_=(U=e[t+B])==g?0:255,l[n+B]=_<<24|U<<16|U<<8|U;else if(16==h)for(B=0;B<r;B++)U=e[t+(B<<1)],_=d(e,t+(B<<1))==g?0:255,l[n+B]=_<<24|U<<16|U<<8|U}return c}function r(t,e,r,f){const s=o(t),c=Math.ceil(r*s/8),l=new Uint8Array((c+1+t.interlace)*f);return e=t.tabs.CgBI?i(e,l):n(e,l),0==t.interlace?e=a(e,t,0,r,f):1==t.interlace&&(e=function(t,e){const r=e.width,n=e.height,i=o(e),f=i>>3,s=Math.ceil(r*i/8),c=new Uint8Array(n*s);let l=0;const u=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let p=0;for(;p<7;){const o=d[p],v=A[p];let y=0,w=0,m=u[p];for(;m<n;)m+=o,w++;let b=h[p];for(;b<r;)b+=v,y++;const E=Math.ceil(y*i/8);a(t,e,l,y,w);let U=0,F=u[p];for(;F<n;){let e=h[p],n=l+U*E<<3;for(;e<r;){var g;if(1==i&&(g=(g=t[n>>3])>>7-(7&n)&1,c[F*s+(e>>3)]|=g<<7-((7&e)<<0)),2==i&&(g=(g=t[n>>3])>>6-(7&n)&3,c[F*s+(e>>2)]|=g<<6-((3&e)<<1)),4==i&&(g=(g=t[n>>3])>>4-(7&n)&15,c[F*s+(e>>1)]|=g<<4-((1&e)<<2)),i>=8){const r=F*s+e*f;for(let e=0;e<f;e++)c[r+e]=t[(n>>3)+e]}n+=i,e+=v}U++,F+=o}y*w!=0&&(l+=w*(1+E)),p+=1}return c}(e,t)),e}function n(t,e){return i(new Uint8Array(t.buffer,2,t.length-6),e)}var i=function(){const t={H:{}};return t.H.N=function(e,r){const n=Uint8Array;let i,o,a=0,f=0,s=0,c=0,l=0,u=0,h=0,d=0,A=0;if(3==e[0]&&0==e[1])return r||new n(0);const p=t.H,g=p.b,v=p.e,y=p.R,w=p.n,m=p.A,b=p.Z,E=p.m,U=null==r;for(U&&(r=new n(e.length>>>2<<5));0==a;)if(a=g(e,A,1),f=g(e,A+1,2),A+=3,0!=f){if(U&&(r=t.H.W(r,d+(1<<17))),1==f&&(i=E.J,o=E.h,u=511,h=31),2==f){s=v(e,A,5)+257,c=v(e,A+5,5)+1,l=v(e,A+10,4)+4,A+=14;let t=1;for(var F=0;F<38;F+=2)E.Q[F]=0,E.Q[F+1]=0;for(F=0;F<l;F++){const r=v(e,A+3*F,3);E.Q[1+(E.X[F]<<1)]=r,r>t&&(t=r)}A+=3*l,w(E.Q,t),m(E.Q,t,E.u),i=E.w,o=E.d,A=y(E.u,(1<<t)-1,s+c,e,A,E.v);const r=p.V(E.v,0,s,E.C);u=(1<<r)-1;const n=p.V(E.v,s,c,E.D);h=(1<<n)-1,w(E.C,r),m(E.C,r,i),w(E.D,n),m(E.D,n,o)}for(;;){const t=i[b(e,A)&u];A+=15&t;const n=t>>>4;if(n>>>8==0)r[d++]=n;else{if(256==n)break;{let t=d+n-254;if(n>264){const r=E.q[n-257];t=d+(r>>>3)+v(e,A,7&r),A+=7&r}const i=o[b(e,A)&h];A+=15&i;const a=i>>>4,f=E.c[a],s=(f>>>4)+g(e,A,15&f);for(A+=15&f;d<t;)r[d]=r[d++-s],r[d]=r[d++-s],r[d]=r[d++-s],r[d]=r[d++-s];d=t}}}}else{0!=(7&A)&&(A+=8-(7&A));const i=4+(A>>>3),o=e[i-4]|e[i-3]<<8;U&&(r=t.H.W(r,d+o)),r.set(new n(e.buffer,e.byteOffset+i,o),d),A=i+o<<3,d+=o}return r.length==d?r:r.slice(0,d)},t.H.W=function(t,e){const r=t.length;if(e<=r)return t;const n=new Uint8Array(r<<1);return n.set(t,0),n},t.H.R=function(e,r,n,i,o,a){const f=t.H.e,s=t.H.Z;let c=0;for(;c<n;){const t=e[s(i,o)&r];o+=15&t;const n=t>>>4;if(n<=15)a[c]=n,c++;else{let t=0,e=0;16==n?(e=3+f(i,o,2),o+=2,t=a[c-1]):17==n?(e=3+f(i,o,3),o+=3):18==n&&(e=11+f(i,o,7),o+=7);const r=c+e;for(;c<r;)a[c]=t,c++}}return o},t.H.V=function(t,e,r,n){let i=0,o=0;const a=n.length>>>1;for(;o<r;){const r=t[o+e];n[o<<1]=0,n[1+(o<<1)]=r,r>i&&(i=r),o++}for(;o<a;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return i},t.H.n=function(e,r){const n=t.H.m,i=e.length;let o,a,f,s;const c=n.j;for(var l=0;l<=r;l++)c[l]=0;for(l=1;l<i;l+=2)c[e[l]]++;const u=n.K;for(o=0,c[0]=0,a=1;a<=r;a++)o=o+c[a-1]<<1,u[a]=o;for(f=0;f<i;f+=2)s=e[f+1],0!=s&&(e[f]=u[s],u[s]++)},t.H.A=function(e,r,n){const i=e.length,o=t.H.m.r;for(let t=0;t<i;t+=2)if(0!=e[t+1]){const i=t>>1,a=e[t+1],f=i<<4|a,s=r-a;let c=e[t]<<s;const l=c+(1<<s);for(;c!=l;)n[o[c]>>>15-r]=f,c++}},t.H.l=function(e,r){const n=t.H.m.r,i=15-r;for(let t=0;t<e.length;t+=2){const o=e[t]<<r-e[t+1];e[t]=n[o]>>>i}},t.H.M=function(t,e,r){r<<=7&e;const n=e>>>3;t[n]|=r,t[n+1]|=r>>>8},t.H.I=function(t,e,r){r<<=7&e;const n=e>>>3;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},t.H.e=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<r)-1},t.H.b=function(t,e,r){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<r)-1},t.H.Z=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},t.H.i=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},t.H.m=function(){const t=Uint16Array,e=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new t(65536),g:new t(32768)}}(),function(){const e=t.H.m;for(var r=0;r<32768;r++){let t=r;t=(2863311530&t)>>>1|(1431655765&t)<<1,t=(3435973836&t)>>>2|(858993459&t)<<2,t=(4042322160&t)>>>4|(252645135&t)<<4,t=(4278255360&t)>>>8|(16711935&t)<<8,e.r[r]=(t>>>16|t<<16)>>>17}function n(t,e,r){for(;0!=e--;)t.push(0,r)}for(r=0;r<32;r++)e.q[r]=e.S[r]<<3|e.T[r],e.c[r]=e.p[r]<<4|e.z[r];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),n(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),t.H.N}();function o(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth}function a(t,e,r,n,i){let a=o(e);const s=Math.ceil(n*a/8);let c,l;a=Math.ceil(a/8);let u=t[r],h=0;if(u>1&&(t[r]=[0,0,1][u-2]),3==u)for(h=a;h<s;h++)t[h+1]=t[h+1]+(t[h+1-a]>>>1)&255;for(let o=0;o<i;o++)if(c=r+o*s,l=c+o+1,u=t[l-1],h=0,0==u)for(;h<s;h++)t[c+h]=t[l+h];else if(1==u){for(;h<a;h++)t[c+h]=t[l+h];for(;h<s;h++)t[c+h]=t[l+h]+t[c+h-a]}else if(2==u)for(;h<s;h++)t[c+h]=t[l+h]+t[c+h-s];else if(3==u){for(;h<a;h++)t[c+h]=t[l+h]+(t[c+h-s]>>>1);for(;h<s;h++)t[c+h]=t[l+h]+(t[c+h-s]+t[c+h-a]>>>1)}else{for(;h<a;h++)t[c+h]=t[l+h]+f(0,t[c+h-s],0);for(;h<s;h++)t[c+h]=t[l+h]+f(t[c+h-a],t[c+h-s],t[c+h-a-s])}return t}function f(t,e,r){const n=t+e-r,i=n-t,o=n-e,a=n-r;return i*i<=o*o&&i*i<=a*a?t:o*o<=a*a?e:r}function s(e,r,n){n.width=t.readUint(e,r),r+=4,n.height=t.readUint(e,r),r+=4,n.depth=e[r],r++,n.ctype=e[r],r++,n.compress=e[r],r++,n.filter=e[r],r++,n.interlace=e[r],r++}function c(t,e,r,n,i,o,a,f,s){const c=Math.min(e,i),l=Math.min(r,o);let u=0,h=0;for(let b=0;b<l;b++)for(let r=0;r<c;r++)if(a>=0&&f>=0?(u=b*e+r<<2,h=(f+b)*i+a+r<<2):(u=(-f+b)*e-a+r<<2,h=b*i+r<<2),0==s)n[h]=t[u],n[h+1]=t[u+1],n[h+2]=t[u+2],n[h+3]=t[u+3];else if(1==s){var d=t[u+3]*(1/255),A=t[u]*d,p=t[u+1]*d,g=t[u+2]*d,v=n[h+3]*(1/255),y=n[h]*v,w=n[h+1]*v,m=n[h+2]*v;const e=1-d,r=d+v*e,i=0==r?0:1/r;n[h+3]=255*r,n[h+0]=(A+y*e)*i,n[h+1]=(p+w*e)*i,n[h+2]=(g+m*e)*i}else if(2==s)d=t[u+3],A=t[u],p=t[u+1],g=t[u+2],v=n[h+3],y=n[h],w=n[h+1],m=n[h+2],d==v&&A==y&&p==w&&g==m?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=A,n[h+1]=p,n[h+2]=g,n[h+3]=d);else if(3==s){if(d=t[u+3],A=t[u],p=t[u+1],g=t[u+2],v=n[h+3],y=n[h],w=n[h+1],m=n[h+2],d==v&&A==y&&p==w&&g==m)continue;if(d<220&&v>20)return!1}return!0}return{decode:function(e){const o=new Uint8Array(e);let a=8;const f=t,c=f.readUshort,l=f.readUint,u={tabs:{},frames:[]},h=new Uint8Array(o.length);let d,A=0,p=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(o[v]!=g[v])throw"The input is not a PNG file!";for(;a<o.length;){const e=f.readUint(o,a);a+=4;const g=f.readASCII(o,a,4);if(a+=4,"IHDR"==g)s(o,a,u);else if("iCCP"==g){for(var y=a;0!=o[y];)y++;f.readASCII(o,a,y-a),o[y+1];const r=o.slice(y+2,a+e);let s=null;try{s=n(r)}catch(t){s=i(r)}u.tabs[g]=s}else if("CgBI"==g)u.tabs[g]=o.slice(a,a+4);else if("IDAT"==g){for(v=0;v<e;v++)h[A+v]=o[a+v];A+=e}else if("acTL"==g)u.tabs[g]={num_frames:l(o,a),num_plays:l(o,a+4)},d=new Uint8Array(o.length);else if("fcTL"==g){0!=p&&((F=u.frames[u.frames.length-1]).data=r(u,d.slice(0,p),F.rect.width,F.rect.height),p=0);const t={x:l(o,a+12),y:l(o,a+16),width:l(o,a+4),height:l(o,a+8)};let e=c(o,a+22);e=c(o,a+20)/(0==e?100:e);const n={rect:t,delay:Math.round(1e3*e),dispose:o[a+24],blend:o[a+25]};u.frames.push(n)}else if("fdAT"==g){for(v=0;v<e-4;v++)d[p+v]=o[a+v+4];p+=e-4}else if("pHYs"==g)u.tabs[g]=[f.readUint(o,a),f.readUint(o,a+4),o[a+8]];else if("cHRM"==g)for(u.tabs[g]=[],v=0;v<8;v++)u.tabs[g].push(f.readUint(o,a+4*v));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var w=f.nextZero(o,a),m=f.readASCII(o,a,w-a),b=a+e-w-1;if("tEXt"==g)U=f.readASCII(o,w+1,b);else{var E=n(o.slice(w+2,w+2+b));U=f.readUTF8(E,0,E.length)}u.tabs[g][m]=U}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),w=0,y=a,w=f.nextZero(o,y),m=f.readASCII(o,y,w-y);const t=o[y=w+1];var U;o[y+1],y+=2,w=f.nextZero(o,y),f.readASCII(o,y,w-y),y=w+1,w=f.nextZero(o,y),f.readUTF8(o,y,w-y),b=e-((y=w+1)-a),0==t?U=f.readUTF8(o,y,b):(E=n(o.slice(y,y+b)),U=f.readUTF8(E,0,E.length)),u.tabs[g][m]=U}else if("PLTE"==g)u.tabs[g]=f.readBytes(o,a,e);else if("hIST"==g){const t=u.tabs.PLTE.length/3;for(u.tabs[g]=[],v=0;v<t;v++)u.tabs[g].push(c(o,a+2*v))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=f.readBytes(o,a,e):0==u.ctype?u.tabs[g]=c(o,a):2==u.ctype&&(u.tabs[g]=[c(o,a),c(o,a+2),c(o,a+4)]);else if("gAMA"==g)u.tabs[g]=f.readUint(o,a)/1e5;else if("sRGB"==g)u.tabs[g]=o[a];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[c(o,a)]:2==u.ctype||6==u.ctype?u.tabs[g]=[c(o,a),c(o,a+2),c(o,a+4)]:3==u.ctype&&(u.tabs[g]=o[a]);else if("IEND"==g)break;a+=e,f.readUint(o,a),a+=4}var F;return 0!=p&&((F=u.frames[u.frames.length-1]).data=r(u,d.slice(0,p),F.rect.width,F.rect.height)),u.data=r(u,h,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(t){const r=t.width,n=t.height;if(null==t.tabs.acTL)return[e(t.data,r,n,t).buffer];const i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);const o=r*n*4,a=new Uint8Array(o),f=new Uint8Array(o),s=new Uint8Array(o);for(let u=0;u<t.frames.length;u++){const h=t.frames[u],d=h.rect.x,A=h.rect.y,p=h.rect.width,g=h.rect.height,v=e(h.data,p,g,t);if(0!=u)for(var l=0;l<o;l++)s[l]=a[l];if(0==h.blend?c(v,p,g,a,r,n,d,A,0):1==h.blend&&c(v,p,g,a,r,n,d,A,1),i.push(a.buffer.slice(0)),0==h.dispose);else if(1==h.dispose)c(f,p,g,a,r,n,d,A,0);else if(2==h.dispose)for(l=0;l<o;l++)a[l]=s[l]}return i},_paeth:f,_copyTile:c,_bin:t}}();!function(){const{_copyTile:t}=E,{_bin:e}=E,r=E._paeth;var n={table:function(){const t=new Uint32Array(256);for(let e=0;e<256;e++){let r=e;for(let t=0;t<8;t++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}return t}(),update(t,e,r,i){for(let o=0;o<i;o++)t=n.table[255&(t^e[r+o])]^t>>>8;return t},crc:(t,e,r)=>4294967295^n.update(4294967295,t,e,r)};function i(t,e,r,n){e[r]+=t[0]*n>>4,e[r+1]+=t[1]*n>>4,e[r+2]+=t[2]*n>>4,e[r+3]+=t[3]*n>>4}function o(t){return Math.max(0,Math.min(255,t))}function a(t,e){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function f(t,e,r,n,f,s,c){null==c&&(c=1);const l=n.length,u=[];for(var h=0;h<l;h++){const t=n[h];u.push([t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255])}for(h=0;h<l;h++){let t=4294967295;for(var d=0,A=0;A<l;A++){var p=a(u[h],u[A]);A!=h&&p<t&&(t=p,d=A)}}const g=new Uint32Array(f.buffer),v=new Int16Array(e*r*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(h=0;h<y.length;h++)y[h]=255*((y[h]+.5)/16-.5);for(let m=0;m<r;m++)for(let f=0;f<e;f++){var w;h=4*(m*e+f),2!=c?w=[o(t[h]+v[h]),o(t[h+1]+v[h+1]),o(t[h+2]+v[h+2]),o(t[h+3]+v[h+3])]:(p=y[4*(3&m)+(3&f)],w=[o(t[h]+p),o(t[h+1]+p),o(t[h+2]+p),o(t[h+3]+p)]),d=0;let b=16777215;for(A=0;A<l;A++){const t=a(w,u[A]);t<b&&(b=t,d=A)}const E=u[d],U=[w[0]-E[0],w[1]-E[1],w[2]-E[2],w[3]-E[3]];1==c&&(f!=e-1&&i(U,v,h+4,7),m!=r-1&&(0!=f&&i(U,v,h+4*e-4,3),i(U,v,h+4*e,5),f!=e-1&&i(U,v,h+4*e+4,1))),s[h>>2]=d,g[h>>2]=n[d]}}function s(t,r,i,o,a){null==a&&(a={});const{crc:f}=n,s=e.writeUint,c=e.writeUshort,l=e.writeASCII;let u=8;const h=t.frames.length>1;let d,A=!1,p=33+(h?20:0);if(null!=a.sRGB&&(p+=13),null!=a.pHYs&&(p+=21),null!=a.iCCP&&(d=pako.deflate(a.iCCP),p+=21+d.length+4),3==t.ctype){for(var g=t.plte.length,v=0;v<g;v++)t.plte[v]>>>24!=255&&(A=!0);p+=8+3*g+4+(A?8+1*g+4:0)}for(var y=0;y<t.frames.length;y++)h&&(p+=38),p+=(E=t.frames[y]).cimg.length+12,0!=y&&(p+=4);p+=12;const w=new Uint8Array(p),m=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)w[v]=m[v];if(s(w,u,13),u+=4,l(w,u,"IHDR"),u+=4,s(w,u,r),u+=4,s(w,u,i),u+=4,w[u]=t.depth,u++,w[u]=t.ctype,u++,w[u]=0,u++,w[u]=0,u++,w[u]=0,u++,s(w,u,f(w,u-17,17)),u+=4,null!=a.sRGB&&(s(w,u,1),u+=4,l(w,u,"sRGB"),u+=4,w[u]=a.sRGB,u++,s(w,u,f(w,u-5,5)),u+=4),null!=a.iCCP){const t=13+d.length;s(w,u,t),u+=4,l(w,u,"iCCP"),u+=4,l(w,u,"ICC profile"),u+=11,u+=2,w.set(d,u),u+=d.length,s(w,u,f(w,u-(t+4),t+4)),u+=4}if(null!=a.pHYs&&(s(w,u,9),u+=4,l(w,u,"pHYs"),u+=4,s(w,u,a.pHYs[0]),u+=4,s(w,u,a.pHYs[1]),u+=4,w[u]=a.pHYs[2],u++,s(w,u,f(w,u-13,13)),u+=4),h&&(s(w,u,8),u+=4,l(w,u,"acTL"),u+=4,s(w,u,t.frames.length),u+=4,s(w,u,null!=a.loop?a.loop:0),u+=4,s(w,u,f(w,u-12,12)),u+=4),3==t.ctype){for(s(w,u,3*(g=t.plte.length)),u+=4,l(w,u,"PLTE"),u+=4,v=0;v<g;v++){const e=3*v,r=t.plte[v],n=255&r,i=r>>>8&255,o=r>>>16&255;w[u+e+0]=n,w[u+e+1]=i,w[u+e+2]=o}if(u+=3*g,s(w,u,f(w,u-3*g-4,3*g+4)),u+=4,A){for(s(w,u,g),u+=4,l(w,u,"tRNS"),u+=4,v=0;v<g;v++)w[u+v]=t.plte[v]>>>24&255;u+=g,s(w,u,f(w,u-g-4,g+4)),u+=4}}let b=0;for(y=0;y<t.frames.length;y++){var E=t.frames[y];h&&(s(w,u,26),u+=4,l(w,u,"fcTL"),u+=4,s(w,u,b++),u+=4,s(w,u,E.rect.width),u+=4,s(w,u,E.rect.height),u+=4,s(w,u,E.rect.x),u+=4,s(w,u,E.rect.y),u+=4,c(w,u,o[y]),u+=2,c(w,u,1e3),u+=2,w[u]=E.dispose,u++,w[u]=E.blend,u++,s(w,u,f(w,u-30,30)),u+=4);const e=E.cimg;s(w,u,(g=e.length)+(0==y?0:4)),u+=4;const r=u;l(w,u,0==y?"IDAT":"fdAT"),u+=4,0!=y&&(s(w,u,b++),u+=4),w.set(e,u),u+=g,s(w,u,f(w,r,u-r)),u+=4}return s(w,u,0),u+=4,l(w,u,"IEND"),u+=4,s(w,u,f(w,u-4,4)),u+=4,w.buffer}function c(t,e,r){for(let n=0;n<t.frames.length;n++){const i=t.frames[n];i.rect.width;const o=i.rect.height,a=new Uint8Array(o*i.bpl+o);i.cimg=d(i.img,o,i.bpp,i.bpl,a,e,r)}}function l(e,r,n,i,o){const a=o[0],s=o[1],c=o[2],l=o[3],d=o[4],A=o[5];let g=6,v=8,y=255;for(var w=0;w<e.length;w++){const t=new Uint8Array(e[w]);for(var m=t.length,b=0;b<m;b+=4)y&=t[b+3]}const E=255!=y,U=function(e,r,n,i,o,a){const f=[];for(var s=0;s<e.length;s++){const u=new Uint8Array(e[s]),d=new Uint32Array(u.buffer);var c;let p=0,g=0,v=r,y=n,w=i?1:0;if(0!=s){const m=a||i||1==s||0!=f[s-2].dispose?1:2;let b=0,E=1e9;for(let t=0;t<m;t++){var l=new Uint8Array(e[s-1-t]);const i=new Uint32Array(e[s-1-t]);let a=r,f=n,c=-1,u=-1;for(let t=0;t<n;t++)for(let e=0;e<r;e++)d[A=t*r+e]!=i[A]&&(e<a&&(a=e),e>c&&(c=e),t<f&&(f=t),t>u&&(u=t));-1==c&&(a=f=c=u=0),o&&(1==(1&a)&&a--,1==(1&f)&&f--);const h=(c-a+1)*(u-f+1);h<E&&(E=h,b=t,p=a,g=f,v=c-a+1,y=u-f+1)}l=new Uint8Array(e[s-1-b]),1==b&&(f[s-1].dispose=2),c=new Uint8Array(v*y*4),t(l,r,n,c,v,y,-p,-g,0),w=t(u,r,n,c,v,y,-p,-g,3)?1:0,1==w?h(u,r,n,c,{x:p,y:g,width:v,height:y}):t(u,r,n,c,v,y,-p,-g,0)}else c=u.slice(0);f.push({rect:{x:p,y:g,width:v,height:y},img:c,blend:w,dispose:0})}if(i)for(s=0;s<f.length;s++){if(1==(p=f[s]).blend)continue;const t=p.rect,i=f[s-1].rect,a=Math.min(t.x,i.x),c=Math.min(t.y,i.y),l={x:a,y:c,width:Math.max(t.x+t.width,i.x+i.width)-a,height:Math.max(t.y+t.height,i.y+i.height)-c};f[s-1].dispose=1,s-1!=0&&u(e,r,n,f,s-1,l,o),u(e,r,n,f,s,l,o)}let d=0;if(1!=e.length)for(var A=0;A<f.length;A++){var p;d+=(p=f[A]).rect.width*p.rect.height}return f}(e,r,n,a,s,c),F={},B=[],_=[];if(0!=i){const t=[];for(b=0;b<U.length;b++)t.push(U[b].img.buffer);const e=function(t){let e=0;for(var r=0;r<t.length;r++)e+=t[r].byteLength;const n=new Uint8Array(e);let i=0;for(r=0;r<t.length;r++){const e=new Uint8Array(t[r]),o=e.length;for(let t=0;t<o;t+=4){let r=e[t],o=e[t+1],a=e[t+2];const f=e[t+3];0==f&&(r=o=a=0),n[i+t]=r,n[i+t+1]=o,n[i+t+2]=a,n[i+t+3]=f}i+=o}return n.buffer}(t),r=p(e,i);for(b=0;b<r.plte.length;b++)B.push(r.plte[b].est.rgba);let n=0;for(b=0;b<U.length;b++){const t=(I=U[b]).img.length;var C=new Uint8Array(r.inds.buffer,n>>2,t>>2);_.push(C);const e=new Uint8Array(r.abuf,n,t);A&&f(I.img,I.rect.width,I.rect.height,B,e,C),I.img.set(e),n+=t}}else for(w=0;w<U.length;w++){var I=U[w];const t=new Uint32Array(I.img.buffer);var T=I.rect.width;for(m=t.length,C=new Uint8Array(m),_.push(C),b=0;b<m;b++){const e=t[b];if(0!=b&&e==t[b-1])C[b]=C[b-1];else if(b>T&&e==t[b-T])C[b]=C[b-T];else{let t=F[e];if(null==t&&(F[e]=t=B.length,B.push(e),B.length>=300))break;C[b]=t}}}const Q=B.length;for(Q<=256&&0==d&&(v=Q<=2?1:Q<=4?2:Q<=16?4:8,v=Math.max(v,l)),w=0;w<U.length;w++){(I=U[w]).rect.x,I.rect.y,T=I.rect.width;const t=I.rect.height;let e=I.img;new Uint32Array(e.buffer);let r=4*T,n=4;if(Q<=256&&0==d){r=Math.ceil(v*T/8);var x=new Uint8Array(r*t);const i=_[w];for(let e=0;e<t;e++){b=e*r;const t=e*T;if(8==v)for(var M=0;M<T;M++)x[b+M]=i[t+M];else if(4==v)for(M=0;M<T;M++)x[b+(M>>1)]|=i[t+M]<<4-4*(1&M);else if(2==v)for(M=0;M<T;M++)x[b+(M>>2)]|=i[t+M]<<6-2*(3&M);else if(1==v)for(M=0;M<T;M++)x[b+(M>>3)]|=i[t+M]<<7-1*(7&M)}e=x,g=3,n=1}else if(0==E&&1==U.length){x=new Uint8Array(T*t*3);const i=T*t;for(b=0;b<i;b++){const t=3*b,r=4*b;x[t]=e[r],x[t+1]=e[r+1],x[t+2]=e[r+2]}e=x,g=2,n=3,r=3*T}I.img=e,I.bpl=r,I.bpp=n}return{ctype:g,depth:v,plte:B,frames:U}}function u(e,r,n,i,o,a,f){const s=Uint8Array,c=Uint32Array,l=new s(e[o-1]),u=new c(e[o-1]),d=o+1<e.length?new s(e[o+1]):null,A=new s(e[o]),p=new c(A.buffer);let g=r,v=n,y=-1,w=-1;for(let t=0;t<a.height;t++)for(let e=0;e<a.width;e++){const n=a.x+e,f=a.y+t,s=f*r+n,c=p[s];0==c||0==i[o-1].dispose&&u[s]==c&&(null==d||0!=d[4*s+3])||(n<g&&(g=n),n>y&&(y=n),f<v&&(v=f),f>w&&(w=f))}-1==y&&(g=v=y=w=0),f&&(1==(1&g)&&g--,1==(1&v)&&v--),a={x:g,y:v,width:y-g+1,height:w-v+1};const m=i[o];m.rect=a,m.blend=1,m.img=new Uint8Array(a.width*a.height*4),0==i[o-1].dispose?(t(l,r,n,m.img,a.width,a.height,-a.x,-a.y,0),h(A,r,n,m.img,a)):t(A,r,n,m.img,a.width,a.height,-a.x,-a.y,0)}function h(e,r,n,i,o){t(e,r,n,i,o.width,o.height,-o.x,-o.y,2)}function d(t,e,r,n,i,o,a){const f=[];let s,c=[0,1,2,3,4];-1!=o?c=[o]:(e*n>5e5||1==r)&&(c=[0]),a&&(s={level:0});const l=b;for(var u=0;u<c.length;u++){for(let o=0;o<e;o++)A(i,t,o,n,r,c[u]);f.push(l.deflate(i,s))}let h,d=1e9;for(u=0;u<f.length;u++)f[u].length<d&&(h=u,d=f[u].length);return f[h]}function A(t,e,n,i,o,a){const f=n*i;let s=f+n;if(t[s]=a,s++,0==a)if(i<500)for(var c=0;c<i;c++)t[s+c]=e[f+c];else t.set(new Uint8Array(e.buffer,f,i),s);else if(1==a){for(c=0;c<o;c++)t[s+c]=e[f+c];for(c=o;c<i;c++)t[s+c]=e[f+c]-e[f+c-o]+256&255}else if(0==n){for(c=0;c<o;c++)t[s+c]=e[f+c];if(2==a)for(c=o;c<i;c++)t[s+c]=e[f+c];if(3==a)for(c=o;c<i;c++)t[s+c]=e[f+c]-(e[f+c-o]>>1)+256&255;if(4==a)for(c=o;c<i;c++)t[s+c]=e[f+c]-r(e[f+c-o],0,0)+256&255}else{if(2==a)for(c=0;c<i;c++)t[s+c]=e[f+c]+256-e[f+c-i]&255;if(3==a){for(c=0;c<o;c++)t[s+c]=e[f+c]+256-(e[f+c-i]>>1)&255;for(c=o;c<i;c++)t[s+c]=e[f+c]+256-(e[f+c-i]+e[f+c-o]>>1)&255}if(4==a){for(c=0;c<o;c++)t[s+c]=e[f+c]+256-r(0,e[f+c-i],0)&255;for(c=o;c<i;c++)t[s+c]=e[f+c]+256-r(e[f+c-o],e[f+c-i],e[f+c-o-i])&255}}}function p(t,e){const r=new Uint8Array(t),n=r.slice(0),i=new Uint32Array(n.buffer),o=g(n,e),a=o[0],f=o[1],s=r.length,c=new Uint8Array(s>>2);let l;if(r.length<2e7)for(var u=0;u<s;u+=4)l=v(a,h=r[u]*(1/255),d=r[u+1]*(1/255),A=r[u+2]*(1/255),p=r[u+3]*(1/255)),c[u>>2]=l.ind,i[u>>2]=l.est.rgba;else for(u=0;u<s;u+=4){var h=r[u]*(1/255),d=r[u+1]*(1/255),A=r[u+2]*(1/255),p=r[u+3]*(1/255);for(l=a;l.left;)l=y(l.est,h,d,A,p)<=0?l.left:l.right;c[u>>2]=l.ind,i[u>>2]=l.est.rgba}return{abuf:n.buffer,inds:c,plte:f}}function g(t,e,r){null==r&&(r=1e-4);const n=new Uint32Array(t.buffer),i={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=U(t,i.i0,i.i1),i.est=F(i.bst);const o=[i];for(;o.length<e;){let e=0,i=0;for(var a=0;a<o.length;a++)o[a].est.L>e&&(e=o[a].est.L,i=a);if(e<r)break;const f=o[i],s=w(t,n,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=s||f.i1<=s){f.est.L=0;continue}const c={i0:f.i0,i1:s,bst:null,est:null,tdst:0,left:null,right:null};c.bst=U(t,c.i0,c.i1),c.est=F(c.bst);const l={i0:s,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};for(l.bst={R:[],m:[],N:f.bst.N-c.bst.N},a=0;a<16;a++)l.bst.R[a]=f.bst.R[a]-c.bst.R[a];for(a=0;a<4;a++)l.bst.m[a]=f.bst.m[a]-c.bst.m[a];l.est=F(l.bst),f.left=c,f.right=l,o[i]=c,o.push(l)}for(o.sort(((t,e)=>e.bst.N-t.bst.N)),a=0;a<o.length;a++)o[a].ind=a;return[i,o]}function v(t,e,r,n,i){if(null==t.left)return t.tdst=function(t,e,r,n,i){const o=e-t[0],a=r-t[1],f=n-t[2],s=i-t[3];return o*o+a*a+f*f+s*s}(t.est.q,e,r,n,i),t;const o=y(t.est,e,r,n,i);let a=t.left,f=t.right;o>0&&(a=t.right,f=t.left);const s=v(a,e,r,n,i);if(s.tdst<=o*o)return s;const c=v(f,e,r,n,i);return c.tdst<s.tdst?c:s}function y(t,e,r,n,i){const{e:o}=t;return o[0]*e+o[1]*r+o[2]*n+o[3]*i-t.eMq}function w(t,e,r,n,i,o){for(n-=4;r<n;){for(;m(t,r,i)<=o;)r+=4;for(;m(t,n,i)>o;)n-=4;if(r>=n)break;const a=e[r>>2];e[r>>2]=e[n>>2],e[n>>2]=a,r+=4,n-=4}for(;m(t,r,i)>o;)r-=4;return r+4}function m(t,e,r){return t[e]*r[0]+t[e+1]*r[1]+t[e+2]*r[2]+t[e+3]*r[3]}function U(t,e,r){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=r-e>>2;for(let a=e;a<r;a+=4){const e=t[a]*(1/255),r=t[a+1]*(1/255),o=t[a+2]*(1/255),f=t[a+3]*(1/255);i[0]+=e,i[1]+=r,i[2]+=o,i[3]+=f,n[0]+=e*e,n[1]+=e*r,n[2]+=e*o,n[3]+=e*f,n[5]+=r*r,n[6]+=r*o,n[7]+=r*f,n[10]+=o*o,n[11]+=o*f,n[15]+=f*f}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:o}}function F(t){const{R:e}=t,{m:r}=t,{N:n}=t,i=r[0],o=r[1],a=r[2],f=r[3],s=0==n?0:1/n,c=[e[0]-i*i*s,e[1]-i*o*s,e[2]-i*a*s,e[3]-i*f*s,e[4]-o*i*s,e[5]-o*o*s,e[6]-o*a*s,e[7]-o*f*s,e[8]-a*i*s,e[9]-a*o*s,e[10]-a*a*s,e[11]-a*f*s,e[12]-f*i*s,e[13]-f*o*s,e[14]-f*a*s,e[15]-f*f*s],l=c,u=B;let h=[Math.random(),Math.random(),Math.random(),Math.random()],d=0,A=0;if(0!=n)for(let g=0;g<16&&(h=u.multVec(l,h),A=Math.sqrt(u.dot(h,h)),h=u.sml(1/A,h),!(0!=g&&Math.abs(A-d)<1e-9));g++)d=A;const p=[i*s,o*s,a*s,f*s];return{Cov:c,q:p,e:h,L:d,eMq255:u.dot(u.sml(255,p),h),eMq:u.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}}var B={multVec:(t,e)=>[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]],dot:(t,e)=>t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],sml:(t,e)=>[t*e[0],t*e[1],t*e[2],t*e[3]]};E.encode=function(t,e,r,n,i,o,a){null==n&&(n=0),null==a&&(a=!1);const f=l(t,e,r,n,[!1,!1,!1,0,a,!1]);return c(f,-1),s(f,e,r,i,o)},E.encodeLL=function(t,e,r,n,i,o,a,f){const l={ctype:0+(1==n?0:2)+(0==i?0:4),depth:o,frames:[]},u=(n+i)*o,h=u*e;for(let s=0;s<t.length;s++)l.frames.push({rect:{x:0,y:0,width:e,height:r},img:new Uint8Array(t[s]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(h/8)});return c(l,0,!0),s(l,e,r,a,f)},E.encode.compress=l,E.encode.dither=f,E.quantize=p,E.quantize.getKDtree=g,E.quantize.getNearest=v}();const U={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,o=t.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(o.data.buffer),f=(32*r+31)/32<<2,s=f*n,c=122+s,l=new ArrayBuffer(c),u=new DataView(l),h=1<<20;let d,A,p,g,v=h,y=0,w=0,m=0;function b(t){u.setUint16(w,t,!0),w+=2}function E(t){u.setUint32(w,t,!0),w+=4}function F(t){w+=t}b(19778),E(c),F(4),E(122),E(108),E(r),E(-n>>>0),b(1),b(32),E(3),E(s),E(2835),E(2835),F(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function t(){for(;y<n&&v>0;){for(g=122+y*f,d=0;d<i;)v--,A=a[m++],p=A>>>24,u.setUint32(g+d,A<<8|p),d+=4;y++}m<a.length?(v=h,setTimeout(t,U._dly)):e(l)}()},toBlob(t,e){this.toArrayBuffer(t,(t=>{e(new Blob([t],{type:"image/bmp"}))}))},_dly:9};var F={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},B={[F.CHROME]:16384,[F.FIREFOX]:11180,[F.DESKTOP_SAFARI]:16384,[F.IE]:8192,[F.IOS]:4096,[F.ETC]:8192};const _="undefined"!=typeof window,C="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,I=_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),T=(_||C)&&(I&&I.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),Q=(_||C)&&(I&&I.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function x(t,e,r=Date.now()){return new Promise((n=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let f=a.length;const s=new Uint8Array(f);for(;f--;)s[f]=a.charCodeAt(f);const c=new Blob([s],{type:o});c.name=e,c.lastModified=r,n(c)}))}function M(t){return new Promise(((e,r)=>{const n=new Q;n.onload=()=>e(n.result),n.onerror=t=>r(t),n.readAsDataURL(t)}))}function R(t){return new Promise(((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=t=>r(t),n.src=t}))}function S(){if(void 0!==S.cachedResult)return S.cachedResult;let t=F.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=F.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=F.IOS:/Safari/i.test(e)?t=F.DESKTOP_SAFARI:/Firefox/i.test(e)?t=F.FIREFOX:(/MSIE/i.test(e)||1==!!document.documentMode)&&(t=F.IE),S.cachedResult=t,S.cachedResult}function k(t,e){const r=S(),n=B[r];let i=t,o=e,a=i*o;const f=i>o?o/i:i/o;for(;a>n*n;){const t=(n+i)/2,e=(n+o)/2;t<e?(o=e,i=e*f):(o=t*f,i=t),a=i*o}return{width:i,height:o}}function P(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),null===n)throw new Error("getContext of OffscreenCanvas returns null")}catch(t){r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function O(t,e){const{width:r,height:n}=k(t.width,t.height),[i,o]=P(r,n);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function H(){return void 0!==H.cachedResult||(H.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),H.cachedResult}function L(t,e={}){return new Promise((function(r,n){let i,o;var a=function(){try{return o=O(i,e.fileType||t.type),r([i,o])}catch(t){return n(t)}},f=function(e){try{var r=function(t){try{throw t}catch(t){return n(t)}};try{let e;return M(t).then((function(t){try{return e=t,R(e).then((function(t){try{return i=t,function(){try{return a()}catch(t){return n(t)}}()}catch(t){return r(t)}}),r)}catch(t){return r(t)}}),r)}catch(t){r(t)}}catch(t){return n(t)}};try{if(H()||[F.DESKTOP_SAFARI,F.MOBILE_SAFARI].includes(S()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(t){try{return i=t,a()}catch(t){return f()}}),f)}catch(t){f()}}))}function D(t,e,r,n,i=1){return new Promise((function(o,a){let f;if("image/png"===e){let c,l,u;return c=t.getContext("2d"),({data:l}=c.getImageData(0,0,t.width,t.height)),u=E.encode([l.buffer],t.width,t.height,4096*i),f=new Blob([u],{type:e}),f.name=r,f.lastModified=n,s.call(this)}{if("image/bmp"===e)return new Promise((e=>U.toBlob(t,e))).then(function(t){try{return f=t,f.name=r,f.lastModified=n,h.call(this)}catch(t){return a(t)}}.bind(this),a);{if("function"==typeof OffscreenCanvas&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then(function(t){try{return f=t,f.name=r,f.lastModified=n,d.call(this)}catch(t){return a(t)}}.bind(this),a);{let A;return A=t.toDataURL(e,i),x(A,r,n).then(function(t){try{return f=t,d.call(this)}catch(t){return a(t)}}.bind(this),a)}function d(){return h.call(this)}}function h(){return s.call(this)}}function s(){return o(f)}}))}function z(t){t.width=0,t.height=0}function N(){return new Promise((function(t,e){let r,n,i,o,a;return void 0!==N.cachedResult?t(N.cachedResult):(r="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",x("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(r){try{return n=r,L(n).then((function(r){try{return i=r[1],D(i,n.type,n.name,n.lastModified).then((function(r){try{return o=r,z(i),L(o).then((function(r){try{return a=r[0],N.cachedResult=1===a.width&&2===a.height,t(N.cachedResult)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e))}))}function W(t){return new Promise(((e,r)=>{const n=new Q;n.onload=t=>{const r=new DataView(t.target.result);if(65496!=r.getUint16(0,!1))return e(-2);const n=r.byteLength;let i=2;for(;i<n;){if(r.getUint16(i+2,!1)<=8)return e(-1);const t=r.getUint16(i,!1);if(i+=2,65505==t){if(1165519206!=r.getUint32(i+=2,!1))return e(-1);const t=18761==r.getUint16(i+=6,!1);i+=r.getUint32(i+4,t);const n=r.getUint16(i,t);i+=2;for(let o=0;o<n;o++)if(274==r.getUint16(i+12*o,t))return e(r.getUint16(i+12*o+8,t))}else{if(65280!=(65280&t))break;i+=r.getUint16(i,!1)}}return e(-1)},n.onerror=t=>r(t),n.readAsArrayBuffer(t)}))}function j(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let o,a=t;return isFinite(i)&&(r>i||n>i)&&([a,o]=P(r,n),r>n?(a.width=i,a.height=n/r*i):(a.width=r/n*i,a.height=i),o.drawImage(t,0,0,a.width,a.height),z(t)),a}function V(t,e){const{width:r}=t,{height:n}=t,[i,o]=P(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,n);break;case 4:o.transform(1,0,0,-1,0,n);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,n,0);break;case 7:o.transform(0,-1,-1,0,n,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(t,0,0,r,n),z(t),i}function q(t,e,r=0){return new Promise((function(n,i){let o,a,f,s,c,l,u,h,d,A,p,g,v,y,w,m,b,E,U,F;function B(t=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=t,e.onProgress(Math.min(o,100))}function _(t){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(t,o),100),e.onProgress(o)}return o=r,a=e.maxIteration||10,f=1024*e.maxSizeMB*1024,B(),L(t,e).then(function(r){try{return[,s]=r,B(),c=j(s,e),B(),new Promise((function(r,n){var i;if(!(i=e.exifOrientation))return W(t).then(function(t){try{return i=t,o.call(this)}catch(t){return n(t)}}.bind(this),n);function o(){return r(i)}return o.call(this)})).then(function(r){try{return l=r,B(),N().then(function(r){try{return u=r?c:V(c,l),B(),h=e.initialQuality||1,d=e.fileType||t.type,D(u,d,t.name,t.lastModified,h).then(function(r){try{{if(A=r,B(),p=A.size>f,g=A.size>t.size,!p&&!g)return _(100),n(A);var o;function C(){if(a--&&(w>f||w>v)){let e,r;return e=F?.95*U.width:U.width,r=F?.95*U.height:U.height,[b,E]=P(e,r),E.drawImage(U,0,0,e,r),h*="image/png"===d?.85:.95,D(b,d,t.name,t.lastModified,h).then((function(t){try{return m=t,z(U),U=b,w=m.size,_(Math.min(99,Math.floor((y-w)/(y-f)*100))),C}catch(t){return i(t)}}),i)}return[1]}return v=t.size,y=A.size,w=y,U=u,F=!e.alwaysKeepResolution&&p,(o=function(t){for(;t;){if(t.then)return void t.then(o,i);try{if(t.pop){if(t.length)return t.pop()?I.call(this):t;t=C}else t=t.call(this)}catch(t){return i(t)}}}.bind(this))(C);function I(){return z(U),z(b),z(c),z(u),z(s),_(100),n(m)}}}catch(l){return i(l)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}))}const Y="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let G;function K(t,e){return new Promise(((r,n)=>{G||(G=function(t){const e=[];return"function"==typeof t?e.push(`(${t})()`):e.push(t),URL.createObjectURL(new Blob(e))}(Y));const i=new Worker(G);i.addEventListener("message",(function(t){if(e.signal&&e.signal.aborted)i.terminate();else if(void 0===t.data.progress){if(t.data.error)return n(new Error(t.data.error)),void i.terminate();r(t.data.file),i.terminate()}else e.onProgress(t.data.progress)})),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",(()=>{n(e.signal.reason),i.terminate()})),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function Z(t,e){return new Promise((function(r,n){let i,o,a,f,s,c;if(i={...e},a=0,({onProgress:f}=i),i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,s="boolean"!=typeof i.useWebWorker||i.useWebWorker,delete i.useWebWorker,i.onProgress=t=>{a=t,"function"==typeof f&&f(a)},!(t instanceof Blob||t instanceof T))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!s||"function"!=typeof Worker||c)return q(t,i).then(function(t){try{return o=t,h.call(this)}catch(t){return n(t)}}.bind(this),n);var l=function(){try{return h.call(this)}catch(t){return n(t)}}.bind(this),u=function(e){try{return q(t,i).then((function(t){try{return o=t,l()}catch(t){return n(t)}}),n)}catch(t){return n(t)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",K(t,i).then((function(t){try{return o=t,l()}catch(t){return u()}}),u)}catch(t){u()}function h(){try{o.name=t.name,o.lastModified=t.lastModified}catch(t){}try{i.preserveExif&&"image/jpeg"===t.type&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=v(t,o))}catch(t){}return r(o)}}))}Z.getDataUrlFromFile=M,Z.getFilefromDataUrl=x,Z.loadImage=R,Z.drawImageInCanvas=O,Z.drawFileInCanvas=L,Z.canvasToFile=D,Z.getExifOrientation=W,Z.handleMaxWidthOrHeight=j,Z.followExifOrientation=V,Z.cleanupCanvasMemory=z,Z.isAutoOrientationInBrowser=N,Z.approximateBelowMaximumCanvasSizeOfBrowser=k,Z.copyExifWithoutOrientation=v,Z.getBrowserName=S,Z.version="2.0.2";const X=function(){const t=(0,A.iH)(),e=(0,A.iH)(),r=(0,A.qj)({show:!1,camera:null}),n=t=>{r.camera=t.data},i=()=>{},o=()=>{r.show=!1},a=t=>{t&&t.preventDefault(),r.show=!1,e.value.stop()},f=n=>{n&&n.preventDefault();const i=e.value,o=t.value;i.pause().then((()=>{const t=r.camera;t.blob().then((t=>Z(t,{maxSizeMB:.2,maxWidthOrHeight:200,useWebWorker:!0}).then((e=>({compressedFile:e,blob:t}))))).then((({compressedFile:t,blob:e})=>(console.log(`file size : original / compressed / ratio : ${(e.size/1024/1024).toFixed(2)} MB / ${(t.size/1024/1024).toFixed(2)} MB / ${(100*(1-t.size/e.size)).toFixed(2)} % `),new Promise(((e,r)=>{try{const r=new FileReader,n=()=>{r.removeEventListener("load",n),e(r)};r.addEventListener("load",n),r.readAsDataURL(t)}catch(n){r(n)}}))))).then((t=>{o.src=t.result})).catch((t=>console.error(t))),i.stop()}))},s=t=>{t&&t.preventDefault(),r.show=!0,e.value.start()};return{refImg:t,refCamera:e,ui:r,emitedInit:n,emitedPause:i,emitedStop:o,doClickClose:a,doClickPause:f,doClickCamera:s}};var $=(0,n.aZ)({name:"p-input-form",components:{PCameraVue:p["default"]},setup:X}),J=r(89);const tt=(0,J.Z)($,[["render",d]]);var et=tt}}]);
//# sourceMappingURL=form.0af651ab.js.map